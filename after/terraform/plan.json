{"format_version":"1.1","terraform_version":"1.4.0","variables":{"alert_mail_recvr":{"value":"bambini.leonardo2@gmail.com"},"db_password":{"value":"dj5\u0026=?89\u0026sft"},"db_username":{"value":"admin"},"region":{"value":"eu-central-1"}},"planned_values":{"root_module":{"child_modules":[{"resources":[{"address":"module.blog.aws_instance.blog-dev","mode":"managed","type":"aws_instance","name":"blog-dev","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"ami":"ami-04be05782cc558e6b","credit_specification":[],"get_password_data":false,"hibernation":null,"instance_type":"t2.micro","key_name":"blog","launch_template":[],"source_dest_check":true,"tags":{"Environment":"prd","Name":"blog2","Project":"blog","Team":"devops"},"tags_all":{"Environment":"prd","Name":"blog2","Project":"blog","Team":"devops"},"timeouts":null,"user_data_replace_on_change":false,"volume_tags":null},"sensitive_values":{"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"ebs_block_device":[],"enclave_options":[],"ephemeral_block_device":[],"instance_market_options":[],"ipv6_addresses":[],"launch_template":[],"maintenance_options":[],"metadata_options":[],"network_interface":[],"private_dns_name_options":[],"root_block_device":[],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[]}},{"address":"module.blog.aws_instance.blog-prd","mode":"managed","type":"aws_instance","name":"blog-prd","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"ami":"ami-04be05782cc558e6b","credit_specification":[],"get_password_data":false,"hibernation":null,"instance_type":"t2.micro","key_name":"blog","launch_template":[],"source_dest_check":true,"tags":{"Environment":"prd","Name":"blog1","Project":"blog","Team":"devops"},"tags_all":{"Environment":"prd","Name":"blog1","Project":"blog","Team":"devops"},"timeouts":null,"user_data":"5fbf3d4a48f460ada2e2b55ad2fc03e2b3984f8d","user_data_replace_on_change":false,"volume_tags":null},"sensitive_values":{"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"ebs_block_device":[],"enclave_options":[],"ephemeral_block_device":[],"instance_market_options":[],"ipv6_addresses":[],"launch_template":[],"maintenance_options":[],"metadata_options":[],"network_interface":[],"private_dns_name_options":[],"root_block_device":[],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[]}}],"address":"module.blog"},{"resources":[{"address":"module.db.aws_db_instance.ecommerce-db","mode":"managed","type":"aws_db_instance","name":"ecommerce-db","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"allocated_storage":10,"allow_major_version_upgrade":null,"apply_immediately":false,"auto_minor_version_upgrade":true,"blue_green_update":[],"copy_tags_to_snapshot":false,"custom_iam_instance_profile":null,"customer_owned_ip_enabled":null,"db_name":"ecommercedb","delete_automated_backups":true,"deletion_protection":null,"domain":null,"domain_auth_secret_arn":null,"domain_dns_ips":null,"domain_iam_role_name":null,"domain_ou":null,"enabled_cloudwatch_logs_exports":null,"engine":"mysql","final_snapshot_identifier":null,"iam_database_authentication_enabled":null,"instance_class":"db.t3.micro","manage_master_user_password":null,"max_allocated_storage":null,"monitoring_interval":0,"password":"dj5\u0026=?89\u0026sft","performance_insights_enabled":false,"publicly_accessible":false,"replicate_source_db":null,"restore_to_point_in_time":[],"s3_import":[],"skip_final_snapshot":true,"storage_encrypted":null,"tags":{"Environment":"prd","Project":"ecommerce","Team":"devops"},"tags_all":{"Environment":"prd","Project":"ecommerce","Team":"devops"},"timeouts":null,"username":"admin"},"sensitive_values":{"blue_green_update":[],"listener_endpoint":[],"master_user_secret":[],"password":true,"replicas":[],"restore_to_point_in_time":[],"s3_import":[],"tags":{},"tags_all":{},"username":true,"vpc_security_group_ids":[]}}],"address":"module.db"},{"resources":[{"address":"module.ecommerce.aws_autoscaling_group.ecommerce_autoscaling_group","mode":"managed","type":"aws_autoscaling_group","name":"ecommerce_autoscaling_group","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"capacity_rebalance":null,"context":null,"default_instance_warmup":null,"desired_capacity_type":null,"enabled_metrics":null,"force_delete":true,"force_delete_warm_pool":false,"health_check_grace_period":300,"health_check_type":"ELB","ignore_failed_scaling_activities":false,"initial_lifecycle_hook":[],"instance_maintenance_policy":[{"max_healthy_percentage":120,"min_healthy_percentage":90}],"instance_refresh":[],"launch_configuration":null,"launch_template":[{}],"max_instance_lifetime":null,"max_size":3,"metrics_granularity":"1Minute","min_elb_capacity":null,"min_size":2,"name":"ecommerce_autoscaling_group2","placement_group":null,"protect_from_scale_in":false,"suspended_processes":null,"tag":[{"key":"Environment","propagate_at_launch":true,"value":"prd"},{"key":"Project","propagate_at_launch":true,"value":"ecommerce"},{"key":"Team","propagate_at_launch":true,"value":"devops"}],"termination_policies":null,"timeouts":{"delete":"15m","update":null},"wait_for_capacity_timeout":"10m","wait_for_elb_capacity":null,"warm_pool":[]},"sensitive_values":{"availability_zones":[],"initial_lifecycle_hook":[],"instance_maintenance_policy":[{}],"instance_refresh":[],"launch_template":[{}],"load_balancers":[],"mixed_instances_policy":[],"tag":[{},{},{}],"target_group_arns":[],"timeouts":{},"traffic_source":[],"vpc_zone_identifier":[],"warm_pool":[]}},{"address":"module.ecommerce.aws_autoscaling_policy.ecommerce_autoscaling_policy","mode":"managed","type":"aws_autoscaling_policy","name":"ecommerce_autoscaling_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"adjustment_type":null,"autoscaling_group_name":"ecommerce_autoscaling_group2","cooldown":null,"enabled":true,"estimated_instance_warmup":null,"min_adjustment_magnitude":null,"name":"ecommerce_autoscaling_policy","policy_type":"TargetTrackingScaling","predictive_scaling_configuration":[],"scaling_adjustment":null,"step_adjustment":[],"target_tracking_configuration":[{"customized_metric_specification":[],"disable_scale_in":false,"predefined_metric_specification":[{"predefined_metric_type":"ASGAverageCPUUtilization","resource_label":null}],"target_value":70}]},"sensitive_values":{"predictive_scaling_configuration":[],"step_adjustment":[],"target_tracking_configuration":[{"customized_metric_specification":[],"predefined_metric_specification":[{}]}]}},{"address":"module.ecommerce.aws_instance.ecommerce-dev","mode":"managed","type":"aws_instance","name":"ecommerce-dev","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"ami":"ami-04be05782cc558e6b","credit_specification":[],"get_password_data":false,"hibernation":null,"instance_type":"t2.micro","key_name":"ecommerce","launch_template":[],"source_dest_check":true,"tags":{"Environment":"dev","Name":"ecommerce-dev","Project":"ecommerce","Team":"devops"},"tags_all":{"Environment":"dev","Name":"ecommerce-dev","Project":"ecommerce","Team":"devops"},"timeouts":null,"user_data_replace_on_change":false,"volume_tags":null},"sensitive_values":{"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"ebs_block_device":[],"enclave_options":[],"ephemeral_block_device":[],"instance_market_options":[],"ipv6_addresses":[],"launch_template":[],"maintenance_options":[],"metadata_options":[],"network_interface":[],"private_dns_name_options":[],"root_block_device":[],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[]}},{"address":"module.ecommerce.aws_launch_template.ecommerce_launch_template","mode":"managed","type":"aws_launch_template","name":"ecommerce_launch_template","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"block_device_mappings":[],"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"description":null,"disable_api_stop":null,"disable_api_termination":null,"ebs_optimized":null,"elastic_gpu_specifications":[],"elastic_inference_accelerator":[],"enclave_options":[],"hibernation_options":[],"iam_instance_profile":[],"image_id":"ami-0f7204385566b32d0","instance_initiated_shutdown_behavior":null,"instance_market_options":[],"instance_requirements":[],"instance_type":"t2.micro","kernel_id":null,"key_name":"ecommerce","license_specification":[],"maintenance_options":[],"monitoring":[],"name":"ecommerce_launch_template","network_interfaces":[],"placement":[],"private_dns_name_options":[],"ram_disk_id":null,"security_group_names":null,"tag_specifications":[{"resource_type":"instance","tags":{"Name":"ecommerce"}}],"tags":null,"update_default_version":null,"user_data":"IyEvYmluL2Jhc2gKc3VkbyB5dW0gdXBkYXRlIC15CnN1ZG8geXVtIGluc3RhbGwgbmdpbnggLXkgCnN1ZG8gc3lzdGVtY3RsIGVuYWJsZSBuZ2lueApzdWRvIHN5c3RlbWN0bCBzdGFydCBuZ2lueA=="},"sensitive_values":{"block_device_mappings":[],"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"elastic_gpu_specifications":[],"elastic_inference_accelerator":[],"enclave_options":[],"hibernation_options":[],"iam_instance_profile":[],"instance_market_options":[],"instance_requirements":[],"license_specification":[],"maintenance_options":[],"metadata_options":[],"monitoring":[],"network_interfaces":[],"placement":[],"private_dns_name_options":[],"tag_specifications":[{"tags":{}}],"tags_all":{},"vpc_security_group_ids":[]}},{"address":"module.ecommerce.aws_lb.ecommerce-alb","mode":"managed","type":"aws_lb","name":"ecommerce-alb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"access_logs":[],"connection_logs":[],"customer_owned_ipv4_pool":null,"desync_mitigation_mode":"defensive","dns_record_client_routing_policy":null,"drop_invalid_header_fields":false,"enable_cross_zone_load_balancing":null,"enable_deletion_protection":false,"enable_http2":true,"enable_tls_version_and_cipher_suite_headers":false,"enable_waf_fail_open":false,"enable_xff_client_port":false,"idle_timeout":60,"internal":false,"load_balancer_type":"application","name":"ecommerce-alb","preserve_host_header":false,"tags":{"Environment":"prd","Project":"ecommerce","Team":"devops"},"tags_all":{"Environment":"prd","Project":"ecommerce","Team":"devops"},"timeouts":null,"xff_header_processing_mode":"append"},"sensitive_values":{"access_logs":[],"connection_logs":[],"security_groups":[],"subnet_mapping":[],"subnets":[],"tags":{},"tags_all":{}}},{"address":"module.ecommerce.aws_lb_listener.my_alb_listener","mode":"managed","type":"aws_lb_listener","name":"my_alb_listener","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"alpn_policy":null,"certificate_arn":null,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[],"type":"forward"}],"port":80,"protocol":"HTTP","tags":null,"timeouts":null},"sensitive_values":{"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[]}],"mutual_authentication":[],"tags_all":{}}},{"address":"module.ecommerce.aws_lb_target_group.ecommerce-tg","mode":"managed","type":"aws_lb_target_group","name":"ecommerce-tg","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"deregistration_delay":"300","lambda_multi_value_headers_enabled":false,"name":"ecommerce-tg","port":80,"protocol":"HTTP","proxy_protocol_v2":false,"slow_start":0,"tags":null,"target_type":"instance"},"sensitive_values":{"health_check":[],"load_balancer_arns":[],"stickiness":[],"tags_all":{},"target_failover":[],"target_health_state":[]}}],"address":"module.ecommerce"},{"resources":[{"address":"module.finops.aws_iam_role.underutilized_every_1_hour_role","mode":"managed","type":"aws_iam_role","name":"underutilized_every_1_hour_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"scheduler.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"inline_policy":[{"name":"underutilized_every_1_hour_inline_policy"}],"max_session_duration":3600,"name":"underutilized_every_1_hour_role","path":"/","permissions_boundary":null,"tags":null},"sensitive_values":{"inline_policy":[{}],"managed_policy_arns":[],"tags_all":{}}},{"address":"module.finops.aws_iam_role.underutilized_lambda_iam_role","mode":"managed","type":"aws_iam_role","name":"underutilized_lambda_iam_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"inline_policy":[{"name":"underutilized_lambda_iam_role_inline_policy"}],"managed_policy_arns":["arn:aws:iam::aws:policy/AmazonEC2ReadOnlyAccess","arn:aws:iam::aws:policy/AmazonRDSReadOnlyAccess","arn:aws:iam::aws:policy/CloudWatchReadOnlyAccess"],"max_session_duration":3600,"name":"underutilized_lambda_iam_role","path":"/","permissions_boundary":null,"tags":null},"sensitive_values":{"inline_policy":[{}],"managed_policy_arns":[false,false,false],"tags_all":{}}},{"address":"module.finops.aws_lambda_function.underutilized_lambda","mode":"managed","type":"aws_lambda_function","name":"underutilized_lambda","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"code_signing_config_arn":null,"dead_letter_config":[],"description":null,"environment":[],"file_system_config":[],"filename":"modules/finops/check_underutilized.py.zip","function_name":"check_underutilized","handler":"check_underutilized.lambda_handler","image_config":[],"image_uri":null,"kms_key_arn":null,"layers":null,"memory_size":128,"package_type":"Zip","publish":false,"replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"runtime":"python3.12","s3_bucket":null,"s3_key":null,"s3_object_version":null,"skip_destroy":false,"snap_start":[],"source_code_hash":"3xUGepuuURdMiJ+efdXVm0Qhk5LR9/BdG5ULkXhlYYA=","tags":{"Environment":"all","Project":"infra","Team":"finops"},"tags_all":{"Environment":"all","Project":"infra","Team":"finops"},"timeout":600,"timeouts":null,"vpc_config":[]},"sensitive_values":{"architectures":[],"dead_letter_config":[],"environment":[],"ephemeral_storage":[],"file_system_config":[],"image_config":[],"logging_config":[],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[],"vpc_config":[]}},{"address":"module.finops.aws_lambda_function_event_invoke_config.underutilized_lambda_event_invoke_config","mode":"managed","type":"aws_lambda_function_event_invoke_config","name":"underutilized_lambda_event_invoke_config","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"destination_config":[{"on_failure":[],"on_success":[{}]}],"maximum_event_age_in_seconds":null,"maximum_retry_attempts":2,"qualifier":null},"sensitive_values":{"destination_config":[{"on_failure":[],"on_success":[{}]}]}},{"address":"module.finops.aws_scheduler_schedule.underutilized_every_1_hour","mode":"managed","type":"aws_scheduler_schedule","name":"underutilized_every_1_hour","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":null,"end_date":null,"flexible_time_window":[{"maximum_window_in_minutes":null,"mode":"OFF"}],"group_name":"default","kms_key_arn":null,"name":"underutilized_every_1_hour","schedule_expression":"rate(5 minutes)","schedule_expression_timezone":"UTC","start_date":null,"state":"DISABLED","target":[{"dead_letter_config":[],"ecs_parameters":[],"eventbridge_parameters":[],"input":"{\"cpu_instance_threshold\":20,\"cpu_rds_threshold\":20,\"days_before\":0,\"hours_before\":1,\"minutes_before\":0,\"seconds_before\":0}","kinesis_parameters":[],"retry_policy":[],"sagemaker_pipeline_parameters":[],"sqs_parameters":[]}]},"sensitive_values":{"flexible_time_window":[{}],"target":[{"dead_letter_config":[],"ecs_parameters":[],"eventbridge_parameters":[],"kinesis_parameters":[],"retry_policy":[],"sagemaker_pipeline_parameters":[],"sqs_parameters":[]}]}},{"address":"module.finops.aws_sns_topic.underutilized_sns_topic","mode":"managed","type":"aws_sns_topic","name":"underutilized_sns_topic","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"application_failure_feedback_role_arn":null,"application_success_feedback_role_arn":null,"application_success_feedback_sample_rate":null,"archive_policy":null,"content_based_deduplication":false,"delivery_policy":null,"display_name":null,"fifo_topic":false,"firehose_failure_feedback_role_arn":null,"firehose_success_feedback_role_arn":null,"firehose_success_feedback_sample_rate":null,"http_failure_feedback_role_arn":null,"http_success_feedback_role_arn":null,"http_success_feedback_sample_rate":null,"kms_master_key_id":null,"lambda_failure_feedback_role_arn":null,"lambda_success_feedback_role_arn":null,"lambda_success_feedback_sample_rate":null,"name":"underutilized_sns_topic","sqs_failure_feedback_role_arn":null,"sqs_success_feedback_role_arn":null,"sqs_success_feedback_sample_rate":null,"tags":null},"sensitive_values":{"tags_all":{}}},{"address":"module.finops.aws_sns_topic_subscription.user_updates_sqs_target","mode":"managed","type":"aws_sns_topic_subscription","name":"user_updates_sqs_target","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"confirmation_timeout_in_minutes":1,"delivery_policy":null,"endpoint":"bambini.leonardo2@gmail.com","endpoint_auto_confirms":false,"filter_policy":null,"protocol":"email","raw_message_delivery":false,"redrive_policy":null,"replay_policy":null,"subscription_role_arn":null},"sensitive_values":{}}],"address":"module.finops"},{"resources":[{"address":"module.networking.aws_internet_gateway.gw","mode":"managed","type":"aws_internet_gateway","name":"gw","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"tags":{"Environment":"prd","Project":"ecommerce","Team":"network"},"tags_all":{"Environment":"prd","Project":"ecommerce","Team":"network"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.networking.aws_security_group.blog-dev-sg","mode":"managed","type":"aws_security_group","name":"blog-dev-sg","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"description":"Security group for the ecommerce webapp","name":"blog-dev-sg","revoke_rules_on_delete":false,"tags":{"Name":"blog-dev-sg"},"tags_all":{"Name":"blog-dev-sg"},"timeouts":null},"sensitive_values":{"egress":[],"ingress":[],"tags":{},"tags_all":{}}},{"address":"module.networking.aws_security_group.blog-sg","mode":"managed","type":"aws_security_group","name":"blog-sg","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"description":"Security group for the ecommerce webapp","name":"ecommerce-sg","revoke_rules_on_delete":false,"tags":{"Name":"ecommerce-sg"},"tags_all":{"Name":"ecommerce-sg"},"timeouts":null},"sensitive_values":{"egress":[],"ingress":[],"tags":{},"tags_all":{}}},{"address":"module.networking.aws_security_group.ecommerce-dev-sg","mode":"managed","type":"aws_security_group","name":"ecommerce-dev-sg","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"description":"Security group for the ecommerce webapp","name":"ecommerce-dev-sg","revoke_rules_on_delete":false,"tags":{"Name":"ecommerce-dev-sg"},"tags_all":{"Name":"ecommerce-dev-sg"},"timeouts":null},"sensitive_values":{"egress":[],"ingress":[],"tags":{},"tags_all":{}}},{"address":"module.networking.aws_security_group.ecommerce-sg","mode":"managed","type":"aws_security_group","name":"ecommerce-sg","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"description":"Security group for the ecommerce webapp","name":"ecommerce-sg","revoke_rules_on_delete":false,"tags":{"Name":"ecommerce-sg"},"tags_all":{"Name":"ecommerce-sg"},"timeouts":null},"sensitive_values":{"egress":[],"ingress":[],"tags":{},"tags_all":{}}},{"address":"module.networking.aws_subnet.blog_dev_subnet","mode":"managed","type":"aws_subnet","name":"blog_dev_subnet","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"cidr_block":"10.3.1.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"Environment":"dev","Name":"blog_dev_subnet","Project":"blog","Team":"network"},"tags_all":{"Environment":"dev","Name":"blog_dev_subnet","Project":"blog","Team":"network"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.networking.aws_subnet.blog_prd_subnet","mode":"managed","type":"aws_subnet","name":"blog_prd_subnet","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"cidr_block":"10.2.1.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"Environment":"prd","Name":"blog_prd_subnet","Project":"blog","Team":"network"},"tags_all":{"Environment":"prd","Name":"blog_prd_subnet","Project":"blog","Team":"network"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.networking.aws_subnet.ecommerce_dev_subnet","mode":"managed","type":"aws_subnet","name":"ecommerce_dev_subnet","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"cidr_block":"10.1.1.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"Environment":"dev","Name":"ecommerce_dev_subnet","Project":"ecommerce","Team":"network"},"tags_all":{"Environment":"dev","Name":"ecommerce_dev_subnet","Project":"ecommerce","Team":"network"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.networking.aws_subnet.ecommerce_prd_subnet1","mode":"managed","type":"aws_subnet","name":"ecommerce_prd_subnet1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"eu-central-1a","cidr_block":"10.0.1.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"Environment":"prd","Name":"ecommerce_prd_subnet1","Project":"ecommerce","Team":"network"},"tags_all":{"Environment":"prd","Name":"ecommerce_prd_subnet1","Project":"ecommerce","Team":"network"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.networking.aws_subnet.ecommerce_prd_subnet2","mode":"managed","type":"aws_subnet","name":"ecommerce_prd_subnet2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"eu-central-1b","cidr_block":"10.0.2.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"Environment":"prd","Name":"ecommerce_prd_subnet2","Project":"ecommerce","Team":"network"},"tags_all":{"Environment":"prd","Name":"ecommerce_prd_subnet2","Project":"ecommerce","Team":"network"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.networking.aws_vpc.blog_dev_vpc","mode":"managed","type":"aws_vpc","name":"blog_dev_vpc","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_generated_ipv6_cidr_block":null,"cidr_block":"10.3.0.0/16","enable_dns_support":true,"instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_ipam_pool_id":null,"ipv6_netmask_length":null,"tags":{"Environment":"dev","Name":"blog_dev_vpc","Project":"blog","Team":"network"},"tags_all":{"Environment":"dev","Name":"blog_dev_vpc","Project":"blog","Team":"network"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.networking.aws_vpc.blog_prd_vpc","mode":"managed","type":"aws_vpc","name":"blog_prd_vpc","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_generated_ipv6_cidr_block":null,"cidr_block":"10.2.0.0/16","enable_dns_support":true,"instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_ipam_pool_id":null,"ipv6_netmask_length":null,"tags":{"Environment":"prd","Name":"blog_prd_vpc","Project":"blog","Team":"network"},"tags_all":{"Environment":"prd","Name":"blog_prd_vpc","Project":"blog","Team":"network"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.networking.aws_vpc.ecommerce_dev_vpc","mode":"managed","type":"aws_vpc","name":"ecommerce_dev_vpc","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_generated_ipv6_cidr_block":null,"cidr_block":"10.1.0.0/16","enable_dns_support":true,"instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_ipam_pool_id":null,"ipv6_netmask_length":null,"tags":{"Environment":"dev","Name":"ecommerce_dev_vpc","Project":"ecommerce","Team":"network"},"tags_all":{"Environment":"dev","Name":"ecommerce_dev_vpc","Project":"ecommerce","Team":"network"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.networking.aws_vpc.ecommerce_prd_vpc","mode":"managed","type":"aws_vpc","name":"ecommerce_prd_vpc","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_generated_ipv6_cidr_block":null,"cidr_block":"10.0.0.0/16","enable_dns_support":true,"instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_ipam_pool_id":null,"ipv6_netmask_length":null,"tags":{"Environment":"prd","Name":"ecommerce_prd_vpc","Project":"ecommerce","Team":"network"},"tags_all":{"Environment":"prd","Name":"ecommerce_prd_vpc","Project":"ecommerce","Team":"network"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.networking.aws_vpc_security_group_egress_rule.blog_allow_all_traffic_ipv4","mode":"managed","type":"aws_vpc_security_group_egress_rule","name":"blog_allow_all_traffic_ipv4","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":null,"from_port":null,"ip_protocol":"-1","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{},"to_port":null},"sensitive_values":{"tags_all":{}}},{"address":"module.networking.aws_vpc_security_group_egress_rule.blog_dev_allow_all_traffic_ipv4","mode":"managed","type":"aws_vpc_security_group_egress_rule","name":"blog_dev_allow_all_traffic_ipv4","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":null,"from_port":null,"ip_protocol":"-1","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{},"to_port":null},"sensitive_values":{"tags_all":{}}},{"address":"module.networking.aws_vpc_security_group_egress_rule.ecommerce_allow_all_traffic_ipv4","mode":"managed","type":"aws_vpc_security_group_egress_rule","name":"ecommerce_allow_all_traffic_ipv4","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":null,"from_port":null,"ip_protocol":"-1","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{},"to_port":null},"sensitive_values":{"tags_all":{}}},{"address":"module.networking.aws_vpc_security_group_egress_rule.ecommerce_dev_allow_all_traffic_ipv4","mode":"managed","type":"aws_vpc_security_group_egress_rule","name":"ecommerce_dev_allow_all_traffic_ipv4","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":null,"from_port":null,"ip_protocol":"-1","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{},"to_port":null},"sensitive_values":{"tags_all":{}}},{"address":"module.networking.aws_vpc_security_group_ingress_rule.blog_allow_http","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"blog_allow_http","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":null,"from_port":80,"ip_protocol":"tcp","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{},"to_port":80},"sensitive_values":{"tags_all":{}}},{"address":"module.networking.aws_vpc_security_group_ingress_rule.blog_allow_https","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"blog_allow_https","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":null,"from_port":443,"ip_protocol":"tcp","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{},"to_port":443},"sensitive_values":{"tags_all":{}}},{"address":"module.networking.aws_vpc_security_group_ingress_rule.blog_allow_ssh","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"blog_allow_ssh","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":null,"from_port":22,"ip_protocol":"tcp","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{},"to_port":22},"sensitive_values":{"tags_all":{}}},{"address":"module.networking.aws_vpc_security_group_ingress_rule.blog_dev_allow_http","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"blog_dev_allow_http","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":null,"from_port":80,"ip_protocol":"tcp","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{},"to_port":80},"sensitive_values":{"tags_all":{}}},{"address":"module.networking.aws_vpc_security_group_ingress_rule.blog_dev_allow_https","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"blog_dev_allow_https","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":null,"from_port":443,"ip_protocol":"tcp","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{},"to_port":443},"sensitive_values":{"tags_all":{}}},{"address":"module.networking.aws_vpc_security_group_ingress_rule.blog_dev_allow_ssh","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"blog_dev_allow_ssh","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":null,"from_port":22,"ip_protocol":"tcp","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{},"to_port":22},"sensitive_values":{"tags_all":{}}},{"address":"module.networking.aws_vpc_security_group_ingress_rule.ecommerce_allow_http","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"ecommerce_allow_http","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":null,"from_port":80,"ip_protocol":"tcp","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{},"to_port":80},"sensitive_values":{"tags_all":{}}},{"address":"module.networking.aws_vpc_security_group_ingress_rule.ecommerce_allow_https","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"ecommerce_allow_https","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":null,"from_port":443,"ip_protocol":"tcp","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{},"to_port":443},"sensitive_values":{"tags_all":{}}},{"address":"module.networking.aws_vpc_security_group_ingress_rule.ecommerce_allow_ssh","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"ecommerce_allow_ssh","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":null,"from_port":22,"ip_protocol":"tcp","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{},"to_port":22},"sensitive_values":{"tags_all":{}}},{"address":"module.networking.aws_vpc_security_group_ingress_rule.ecommerce_dev_allow_http","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"ecommerce_dev_allow_http","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":null,"from_port":80,"ip_protocol":"tcp","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{},"to_port":80},"sensitive_values":{"tags_all":{}}},{"address":"module.networking.aws_vpc_security_group_ingress_rule.ecommerce_dev_allow_https","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"ecommerce_dev_allow_https","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":null,"from_port":443,"ip_protocol":"tcp","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{},"to_port":443},"sensitive_values":{"tags_all":{}}},{"address":"module.networking.aws_vpc_security_group_ingress_rule.ecommerce_dev_allow_ssh","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"ecommerce_dev_allow_ssh","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":null,"from_port":22,"ip_protocol":"tcp","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{},"to_port":22},"sensitive_values":{"tags_all":{}}}],"address":"module.networking"},{"resources":[{"address":"module.s3.aws_s3_bucket.ecommerce_s3","mode":"managed","type":"aws_s3_bucket","name":"ecommerce_s3","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"bucket":"ecommerce-s3-367743689984","force_destroy":false,"tags":{"Environment":"prd","Name":"ecommerce_s3","Project":"ecommerce","Team":"devops"},"tags_all":{"Environment":"prd","Name":"ecommerce_s3","Project":"ecommerce","Team":"devops"},"timeouts":null},"sensitive_values":{"cors_rule":[],"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[],"tags":{},"tags_all":{},"versioning":[],"website":[]}},{"address":"module.s3.aws_s3_bucket_lifecycle_configuration.bucket-config","mode":"managed","type":"aws_s3_bucket_lifecycle_configuration","name":"bucket-config","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"expected_bucket_owner":null,"rule":[{"abort_incomplete_multipart_upload":[],"expiration":[{"date":null,"days":90}],"filter":[{"and":[{"object_size_greater_than":null,"object_size_less_than":null,"prefix":"log/","tags":{"autoclean":"true","rule":"log"}}],"object_size_greater_than":null,"object_size_less_than":null,"prefix":null,"tag":[]}],"id":"log","noncurrent_version_expiration":[],"noncurrent_version_transition":[],"prefix":null,"status":"Enabled","transition":[{"date":"","days":30,"storage_class":"STANDARD_IA"},{"date":"","days":60,"storage_class":"ONEZONE_IA"}]}],"timeouts":null},"sensitive_values":{"rule":[{"abort_incomplete_multipart_upload":[],"expiration":[{}],"filter":[{"and":[{"tags":{}}],"tag":[]}],"noncurrent_version_expiration":[],"noncurrent_version_transition":[],"transition":[{},{}]}]}}],"address":"module.s3"}]}},"resource_changes":[{"address":"module.blog.aws_instance.blog-dev","module_address":"module.blog","mode":"managed","type":"aws_instance","name":"blog-dev","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"ami":"ami-04be05782cc558e6b","credit_specification":[],"get_password_data":false,"hibernation":null,"instance_type":"t2.micro","key_name":"blog","launch_template":[],"source_dest_check":true,"tags":{"Environment":"prd","Name":"blog2","Project":"blog","Team":"devops"},"tags_all":{"Environment":"prd","Name":"blog2","Project":"blog","Team":"devops"},"timeouts":null,"user_data_replace_on_change":false,"volume_tags":null},"after_unknown":{"arn":true,"associate_public_ip_address":true,"availability_zone":true,"capacity_reservation_specification":true,"cpu_core_count":true,"cpu_options":true,"cpu_threads_per_core":true,"credit_specification":[],"disable_api_stop":true,"disable_api_termination":true,"ebs_block_device":true,"ebs_optimized":true,"enclave_options":true,"ephemeral_block_device":true,"host_id":true,"host_resource_group_arn":true,"iam_instance_profile":true,"id":true,"instance_initiated_shutdown_behavior":true,"instance_lifecycle":true,"instance_market_options":true,"instance_state":true,"ipv6_address_count":true,"ipv6_addresses":true,"launch_template":[],"maintenance_options":true,"metadata_options":true,"monitoring":true,"network_interface":true,"outpost_arn":true,"password_data":true,"placement_group":true,"placement_partition_number":true,"primary_network_interface_id":true,"private_dns":true,"private_dns_name_options":true,"private_ip":true,"public_dns":true,"public_ip":true,"root_block_device":true,"secondary_private_ips":true,"security_groups":true,"spot_instance_request_id":true,"subnet_id":true,"tags":{},"tags_all":{},"tenancy":true,"user_data":true,"user_data_base64":true,"vpc_security_group_ids":true},"before_sensitive":false,"after_sensitive":{"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"ebs_block_device":[],"enclave_options":[],"ephemeral_block_device":[],"instance_market_options":[],"ipv6_addresses":[],"launch_template":[],"maintenance_options":[],"metadata_options":[],"network_interface":[],"private_dns_name_options":[],"root_block_device":[],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[]}}},{"address":"module.blog.aws_instance.blog-prd","module_address":"module.blog","mode":"managed","type":"aws_instance","name":"blog-prd","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"ami":"ami-04be05782cc558e6b","credit_specification":[],"get_password_data":false,"hibernation":null,"instance_type":"t2.micro","key_name":"blog","launch_template":[],"source_dest_check":true,"tags":{"Environment":"prd","Name":"blog1","Project":"blog","Team":"devops"},"tags_all":{"Environment":"prd","Name":"blog1","Project":"blog","Team":"devops"},"timeouts":null,"user_data":"5fbf3d4a48f460ada2e2b55ad2fc03e2b3984f8d","user_data_replace_on_change":false,"volume_tags":null},"after_unknown":{"arn":true,"associate_public_ip_address":true,"availability_zone":true,"capacity_reservation_specification":true,"cpu_core_count":true,"cpu_options":true,"cpu_threads_per_core":true,"credit_specification":[],"disable_api_stop":true,"disable_api_termination":true,"ebs_block_device":true,"ebs_optimized":true,"enclave_options":true,"ephemeral_block_device":true,"host_id":true,"host_resource_group_arn":true,"iam_instance_profile":true,"id":true,"instance_initiated_shutdown_behavior":true,"instance_lifecycle":true,"instance_market_options":true,"instance_state":true,"ipv6_address_count":true,"ipv6_addresses":true,"launch_template":[],"maintenance_options":true,"metadata_options":true,"monitoring":true,"network_interface":true,"outpost_arn":true,"password_data":true,"placement_group":true,"placement_partition_number":true,"primary_network_interface_id":true,"private_dns":true,"private_dns_name_options":true,"private_ip":true,"public_dns":true,"public_ip":true,"root_block_device":true,"secondary_private_ips":true,"security_groups":true,"spot_instance_request_id":true,"subnet_id":true,"tags":{},"tags_all":{},"tenancy":true,"user_data_base64":true,"vpc_security_group_ids":true},"before_sensitive":false,"after_sensitive":{"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"ebs_block_device":[],"enclave_options":[],"ephemeral_block_device":[],"instance_market_options":[],"ipv6_addresses":[],"launch_template":[],"maintenance_options":[],"metadata_options":[],"network_interface":[],"private_dns_name_options":[],"root_block_device":[],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[]}}},{"address":"module.db.aws_db_instance.ecommerce-db","module_address":"module.db","mode":"managed","type":"aws_db_instance","name":"ecommerce-db","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"allocated_storage":10,"allow_major_version_upgrade":null,"apply_immediately":false,"auto_minor_version_upgrade":true,"blue_green_update":[],"copy_tags_to_snapshot":false,"custom_iam_instance_profile":null,"customer_owned_ip_enabled":null,"db_name":"ecommercedb","delete_automated_backups":true,"deletion_protection":null,"domain":null,"domain_auth_secret_arn":null,"domain_dns_ips":null,"domain_iam_role_name":null,"domain_ou":null,"enabled_cloudwatch_logs_exports":null,"engine":"mysql","final_snapshot_identifier":null,"iam_database_authentication_enabled":null,"instance_class":"db.t3.micro","manage_master_user_password":null,"max_allocated_storage":null,"monitoring_interval":0,"password":"dj5\u0026=?89\u0026sft","performance_insights_enabled":false,"publicly_accessible":false,"replicate_source_db":null,"restore_to_point_in_time":[],"s3_import":[],"skip_final_snapshot":true,"storage_encrypted":null,"tags":{"Environment":"prd","Project":"ecommerce","Team":"devops"},"tags_all":{"Environment":"prd","Project":"ecommerce","Team":"devops"},"timeouts":null,"username":"admin"},"after_unknown":{"address":true,"arn":true,"availability_zone":true,"backup_retention_period":true,"backup_target":true,"backup_window":true,"blue_green_update":[],"ca_cert_identifier":true,"character_set_name":true,"db_subnet_group_name":true,"domain_fqdn":true,"endpoint":true,"engine_version":true,"engine_version_actual":true,"hosted_zone_id":true,"id":true,"identifier":true,"identifier_prefix":true,"iops":true,"kms_key_id":true,"latest_restorable_time":true,"license_model":true,"listener_endpoint":true,"maintenance_window":true,"master_user_secret":true,"master_user_secret_kms_key_id":true,"monitoring_role_arn":true,"multi_az":true,"nchar_character_set_name":true,"network_type":true,"option_group_name":true,"parameter_group_name":true,"performance_insights_kms_key_id":true,"performance_insights_retention_period":true,"port":true,"replica_mode":true,"replicas":true,"resource_id":true,"restore_to_point_in_time":[],"s3_import":[],"snapshot_identifier":true,"status":true,"storage_throughput":true,"storage_type":true,"tags":{},"tags_all":{},"timezone":true,"vpc_security_group_ids":true},"before_sensitive":false,"after_sensitive":{"blue_green_update":[],"listener_endpoint":[],"master_user_secret":[],"password":true,"replicas":[],"restore_to_point_in_time":[],"s3_import":[],"tags":{},"tags_all":{},"username":true,"vpc_security_group_ids":[]}}},{"address":"module.ecommerce.aws_autoscaling_group.ecommerce_autoscaling_group","module_address":"module.ecommerce","mode":"managed","type":"aws_autoscaling_group","name":"ecommerce_autoscaling_group","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"capacity_rebalance":null,"context":null,"default_instance_warmup":null,"desired_capacity_type":null,"enabled_metrics":null,"force_delete":true,"force_delete_warm_pool":false,"health_check_grace_period":300,"health_check_type":"ELB","ignore_failed_scaling_activities":false,"initial_lifecycle_hook":[],"instance_maintenance_policy":[{"max_healthy_percentage":120,"min_healthy_percentage":90}],"instance_refresh":[],"launch_configuration":null,"launch_template":[{}],"max_instance_lifetime":null,"max_size":3,"metrics_granularity":"1Minute","min_elb_capacity":null,"min_size":2,"name":"ecommerce_autoscaling_group2","placement_group":null,"protect_from_scale_in":false,"suspended_processes":null,"tag":[{"key":"Environment","propagate_at_launch":true,"value":"prd"},{"key":"Project","propagate_at_launch":true,"value":"ecommerce"},{"key":"Team","propagate_at_launch":true,"value":"devops"}],"termination_policies":null,"timeouts":{"delete":"15m","update":null},"wait_for_capacity_timeout":"10m","wait_for_elb_capacity":null,"warm_pool":[]},"after_unknown":{"arn":true,"availability_zones":true,"default_cooldown":true,"desired_capacity":true,"id":true,"initial_lifecycle_hook":[],"instance_maintenance_policy":[{}],"instance_refresh":[],"launch_template":[{"id":true,"name":true,"version":true}],"load_balancers":true,"mixed_instances_policy":true,"name_prefix":true,"predicted_capacity":true,"service_linked_role_arn":true,"tag":[{},{},{}],"target_group_arns":true,"timeouts":{},"traffic_source":true,"vpc_zone_identifier":true,"warm_pool":[],"warm_pool_size":true},"before_sensitive":false,"after_sensitive":{"availability_zones":[],"initial_lifecycle_hook":[],"instance_maintenance_policy":[{}],"instance_refresh":[],"launch_template":[{}],"load_balancers":[],"mixed_instances_policy":[],"tag":[{},{},{}],"target_group_arns":[],"timeouts":{},"traffic_source":[],"vpc_zone_identifier":[],"warm_pool":[]}}},{"address":"module.ecommerce.aws_autoscaling_policy.ecommerce_autoscaling_policy","module_address":"module.ecommerce","mode":"managed","type":"aws_autoscaling_policy","name":"ecommerce_autoscaling_policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"adjustment_type":null,"autoscaling_group_name":"ecommerce_autoscaling_group2","cooldown":null,"enabled":true,"estimated_instance_warmup":null,"min_adjustment_magnitude":null,"name":"ecommerce_autoscaling_policy","policy_type":"TargetTrackingScaling","predictive_scaling_configuration":[],"scaling_adjustment":null,"step_adjustment":[],"target_tracking_configuration":[{"customized_metric_specification":[],"disable_scale_in":false,"predefined_metric_specification":[{"predefined_metric_type":"ASGAverageCPUUtilization","resource_label":null}],"target_value":70}]},"after_unknown":{"arn":true,"id":true,"metric_aggregation_type":true,"predictive_scaling_configuration":[],"step_adjustment":[],"target_tracking_configuration":[{"customized_metric_specification":[],"predefined_metric_specification":[{}]}]},"before_sensitive":false,"after_sensitive":{"predictive_scaling_configuration":[],"step_adjustment":[],"target_tracking_configuration":[{"customized_metric_specification":[],"predefined_metric_specification":[{}]}]}}},{"address":"module.ecommerce.aws_instance.ecommerce-dev","module_address":"module.ecommerce","mode":"managed","type":"aws_instance","name":"ecommerce-dev","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"ami":"ami-04be05782cc558e6b","credit_specification":[],"get_password_data":false,"hibernation":null,"instance_type":"t2.micro","key_name":"ecommerce","launch_template":[],"source_dest_check":true,"tags":{"Environment":"dev","Name":"ecommerce-dev","Project":"ecommerce","Team":"devops"},"tags_all":{"Environment":"dev","Name":"ecommerce-dev","Project":"ecommerce","Team":"devops"},"timeouts":null,"user_data_replace_on_change":false,"volume_tags":null},"after_unknown":{"arn":true,"associate_public_ip_address":true,"availability_zone":true,"capacity_reservation_specification":true,"cpu_core_count":true,"cpu_options":true,"cpu_threads_per_core":true,"credit_specification":[],"disable_api_stop":true,"disable_api_termination":true,"ebs_block_device":true,"ebs_optimized":true,"enclave_options":true,"ephemeral_block_device":true,"host_id":true,"host_resource_group_arn":true,"iam_instance_profile":true,"id":true,"instance_initiated_shutdown_behavior":true,"instance_lifecycle":true,"instance_market_options":true,"instance_state":true,"ipv6_address_count":true,"ipv6_addresses":true,"launch_template":[],"maintenance_options":true,"metadata_options":true,"monitoring":true,"network_interface":true,"outpost_arn":true,"password_data":true,"placement_group":true,"placement_partition_number":true,"primary_network_interface_id":true,"private_dns":true,"private_dns_name_options":true,"private_ip":true,"public_dns":true,"public_ip":true,"root_block_device":true,"secondary_private_ips":true,"security_groups":true,"spot_instance_request_id":true,"subnet_id":true,"tags":{},"tags_all":{},"tenancy":true,"user_data":true,"user_data_base64":true,"vpc_security_group_ids":true},"before_sensitive":false,"after_sensitive":{"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"ebs_block_device":[],"enclave_options":[],"ephemeral_block_device":[],"instance_market_options":[],"ipv6_addresses":[],"launch_template":[],"maintenance_options":[],"metadata_options":[],"network_interface":[],"private_dns_name_options":[],"root_block_device":[],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[]}}},{"address":"module.ecommerce.aws_launch_template.ecommerce_launch_template","module_address":"module.ecommerce","mode":"managed","type":"aws_launch_template","name":"ecommerce_launch_template","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"block_device_mappings":[],"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"description":null,"disable_api_stop":null,"disable_api_termination":null,"ebs_optimized":null,"elastic_gpu_specifications":[],"elastic_inference_accelerator":[],"enclave_options":[],"hibernation_options":[],"iam_instance_profile":[],"image_id":"ami-0f7204385566b32d0","instance_initiated_shutdown_behavior":null,"instance_market_options":[],"instance_requirements":[],"instance_type":"t2.micro","kernel_id":null,"key_name":"ecommerce","license_specification":[],"maintenance_options":[],"monitoring":[],"name":"ecommerce_launch_template","network_interfaces":[],"placement":[],"private_dns_name_options":[],"ram_disk_id":null,"security_group_names":null,"tag_specifications":[{"resource_type":"instance","tags":{"Name":"ecommerce"}}],"tags":null,"update_default_version":null,"user_data":"IyEvYmluL2Jhc2gKc3VkbyB5dW0gdXBkYXRlIC15CnN1ZG8geXVtIGluc3RhbGwgbmdpbnggLXkgCnN1ZG8gc3lzdGVtY3RsIGVuYWJsZSBuZ2lueApzdWRvIHN5c3RlbWN0bCBzdGFydCBuZ2lueA=="},"after_unknown":{"arn":true,"block_device_mappings":[],"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"default_version":true,"elastic_gpu_specifications":[],"elastic_inference_accelerator":[],"enclave_options":[],"hibernation_options":[],"iam_instance_profile":[],"id":true,"instance_market_options":[],"instance_requirements":[],"latest_version":true,"license_specification":[],"maintenance_options":[],"metadata_options":true,"monitoring":[],"name_prefix":true,"network_interfaces":[],"placement":[],"private_dns_name_options":[],"tag_specifications":[{"tags":{}}],"tags_all":true,"vpc_security_group_ids":true},"before_sensitive":false,"after_sensitive":{"block_device_mappings":[],"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"elastic_gpu_specifications":[],"elastic_inference_accelerator":[],"enclave_options":[],"hibernation_options":[],"iam_instance_profile":[],"instance_market_options":[],"instance_requirements":[],"license_specification":[],"maintenance_options":[],"metadata_options":[],"monitoring":[],"network_interfaces":[],"placement":[],"private_dns_name_options":[],"tag_specifications":[{"tags":{}}],"tags_all":{},"vpc_security_group_ids":[]}}},{"address":"module.ecommerce.aws_lb.ecommerce-alb","module_address":"module.ecommerce","mode":"managed","type":"aws_lb","name":"ecommerce-alb","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"access_logs":[],"connection_logs":[],"customer_owned_ipv4_pool":null,"desync_mitigation_mode":"defensive","dns_record_client_routing_policy":null,"drop_invalid_header_fields":false,"enable_cross_zone_load_balancing":null,"enable_deletion_protection":false,"enable_http2":true,"enable_tls_version_and_cipher_suite_headers":false,"enable_waf_fail_open":false,"enable_xff_client_port":false,"idle_timeout":60,"internal":false,"load_balancer_type":"application","name":"ecommerce-alb","preserve_host_header":false,"tags":{"Environment":"prd","Project":"ecommerce","Team":"devops"},"tags_all":{"Environment":"prd","Project":"ecommerce","Team":"devops"},"timeouts":null,"xff_header_processing_mode":"append"},"after_unknown":{"access_logs":[],"arn":true,"arn_suffix":true,"connection_logs":[],"dns_name":true,"enforce_security_group_inbound_rules_on_private_link_traffic":true,"id":true,"ip_address_type":true,"name_prefix":true,"security_groups":true,"subnet_mapping":true,"subnets":true,"tags":{},"tags_all":{},"vpc_id":true,"zone_id":true},"before_sensitive":false,"after_sensitive":{"access_logs":[],"connection_logs":[],"security_groups":[],"subnet_mapping":[],"subnets":[],"tags":{},"tags_all":{}}}},{"address":"module.ecommerce.aws_lb_listener.my_alb_listener","module_address":"module.ecommerce","mode":"managed","type":"aws_lb_listener","name":"my_alb_listener","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"alpn_policy":null,"certificate_arn":null,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[],"type":"forward"}],"port":80,"protocol":"HTTP","tags":null,"timeouts":null},"after_unknown":{"arn":true,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"order":true,"redirect":[],"target_group_arn":true}],"id":true,"load_balancer_arn":true,"mutual_authentication":true,"ssl_policy":true,"tags_all":true},"before_sensitive":false,"after_sensitive":{"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[]}],"mutual_authentication":[],"tags_all":{}}}},{"address":"module.ecommerce.aws_lb_target_group.ecommerce-tg","module_address":"module.ecommerce","mode":"managed","type":"aws_lb_target_group","name":"ecommerce-tg","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"deregistration_delay":"300","lambda_multi_value_headers_enabled":false,"name":"ecommerce-tg","port":80,"protocol":"HTTP","proxy_protocol_v2":false,"slow_start":0,"tags":null,"target_type":"instance"},"after_unknown":{"arn":true,"arn_suffix":true,"connection_termination":true,"health_check":true,"id":true,"ip_address_type":true,"load_balancer_arns":true,"load_balancing_algorithm_type":true,"load_balancing_anomaly_mitigation":true,"load_balancing_cross_zone_enabled":true,"name_prefix":true,"preserve_client_ip":true,"protocol_version":true,"stickiness":true,"tags_all":true,"target_failover":true,"target_health_state":true,"vpc_id":true},"before_sensitive":false,"after_sensitive":{"health_check":[],"load_balancer_arns":[],"stickiness":[],"tags_all":{},"target_failover":[],"target_health_state":[]}}},{"address":"module.finops.aws_iam_role.underutilized_every_1_hour_role","module_address":"module.finops","mode":"managed","type":"aws_iam_role","name":"underutilized_every_1_hour_role","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"scheduler.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"inline_policy":[{"name":"underutilized_every_1_hour_inline_policy"}],"max_session_duration":3600,"name":"underutilized_every_1_hour_role","path":"/","permissions_boundary":null,"tags":null},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":[{"policy":true}],"managed_policy_arns":true,"name_prefix":true,"tags_all":true,"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[{}],"managed_policy_arns":[],"tags_all":{}}}},{"address":"module.finops.aws_iam_role.underutilized_lambda_iam_role","module_address":"module.finops","mode":"managed","type":"aws_iam_role","name":"underutilized_lambda_iam_role","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"inline_policy":[{"name":"underutilized_lambda_iam_role_inline_policy"}],"managed_policy_arns":["arn:aws:iam::aws:policy/AmazonEC2ReadOnlyAccess","arn:aws:iam::aws:policy/AmazonRDSReadOnlyAccess","arn:aws:iam::aws:policy/CloudWatchReadOnlyAccess"],"max_session_duration":3600,"name":"underutilized_lambda_iam_role","path":"/","permissions_boundary":null,"tags":null},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":[{"policy":true}],"managed_policy_arns":[false,false,false],"name_prefix":true,"tags_all":true,"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[{}],"managed_policy_arns":[false,false,false],"tags_all":{}}}},{"address":"module.finops.aws_lambda_function.underutilized_lambda","module_address":"module.finops","mode":"managed","type":"aws_lambda_function","name":"underutilized_lambda","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"code_signing_config_arn":null,"dead_letter_config":[],"description":null,"environment":[],"file_system_config":[],"filename":"modules/finops/check_underutilized.py.zip","function_name":"check_underutilized","handler":"check_underutilized.lambda_handler","image_config":[],"image_uri":null,"kms_key_arn":null,"layers":null,"memory_size":128,"package_type":"Zip","publish":false,"replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"runtime":"python3.12","s3_bucket":null,"s3_key":null,"s3_object_version":null,"skip_destroy":false,"snap_start":[],"source_code_hash":"3xUGepuuURdMiJ+efdXVm0Qhk5LR9/BdG5ULkXhlYYA=","tags":{"Environment":"all","Project":"infra","Team":"finops"},"tags_all":{"Environment":"all","Project":"infra","Team":"finops"},"timeout":600,"timeouts":null,"vpc_config":[]},"after_unknown":{"architectures":true,"arn":true,"dead_letter_config":[],"environment":[],"ephemeral_storage":true,"file_system_config":[],"id":true,"image_config":[],"invoke_arn":true,"last_modified":true,"logging_config":true,"qualified_arn":true,"qualified_invoke_arn":true,"role":true,"signing_job_arn":true,"signing_profile_version_arn":true,"snap_start":[],"source_code_size":true,"tags":{},"tags_all":{},"tracing_config":true,"version":true,"vpc_config":[]},"before_sensitive":false,"after_sensitive":{"architectures":[],"dead_letter_config":[],"environment":[],"ephemeral_storage":[],"file_system_config":[],"image_config":[],"logging_config":[],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[],"vpc_config":[]}}},{"address":"module.finops.aws_lambda_function_event_invoke_config.underutilized_lambda_event_invoke_config","module_address":"module.finops","mode":"managed","type":"aws_lambda_function_event_invoke_config","name":"underutilized_lambda_event_invoke_config","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"destination_config":[{"on_failure":[],"on_success":[{}]}],"maximum_event_age_in_seconds":null,"maximum_retry_attempts":2,"qualifier":null},"after_unknown":{"destination_config":[{"on_failure":[],"on_success":[{"destination":true}]}],"function_name":true,"id":true},"before_sensitive":false,"after_sensitive":{"destination_config":[{"on_failure":[],"on_success":[{}]}]}}},{"address":"module.finops.aws_scheduler_schedule.underutilized_every_1_hour","module_address":"module.finops","mode":"managed","type":"aws_scheduler_schedule","name":"underutilized_every_1_hour","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":null,"end_date":null,"flexible_time_window":[{"maximum_window_in_minutes":null,"mode":"OFF"}],"group_name":"default","kms_key_arn":null,"name":"underutilized_every_1_hour","schedule_expression":"rate(5 minutes)","schedule_expression_timezone":"UTC","start_date":null,"state":"DISABLED","target":[{"dead_letter_config":[],"ecs_parameters":[],"eventbridge_parameters":[],"input":"{\"cpu_instance_threshold\":20,\"cpu_rds_threshold\":20,\"days_before\":0,\"hours_before\":1,\"minutes_before\":0,\"seconds_before\":0}","kinesis_parameters":[],"retry_policy":[],"sagemaker_pipeline_parameters":[],"sqs_parameters":[]}]},"after_unknown":{"arn":true,"flexible_time_window":[{}],"id":true,"name_prefix":true,"target":[{"arn":true,"dead_letter_config":[],"ecs_parameters":[],"eventbridge_parameters":[],"kinesis_parameters":[],"retry_policy":[],"role_arn":true,"sagemaker_pipeline_parameters":[],"sqs_parameters":[]}]},"before_sensitive":false,"after_sensitive":{"flexible_time_window":[{}],"target":[{"dead_letter_config":[],"ecs_parameters":[],"eventbridge_parameters":[],"kinesis_parameters":[],"retry_policy":[],"sagemaker_pipeline_parameters":[],"sqs_parameters":[]}]}}},{"address":"module.finops.aws_sns_topic.underutilized_sns_topic","module_address":"module.finops","mode":"managed","type":"aws_sns_topic","name":"underutilized_sns_topic","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"application_failure_feedback_role_arn":null,"application_success_feedback_role_arn":null,"application_success_feedback_sample_rate":null,"archive_policy":null,"content_based_deduplication":false,"delivery_policy":null,"display_name":null,"fifo_topic":false,"firehose_failure_feedback_role_arn":null,"firehose_success_feedback_role_arn":null,"firehose_success_feedback_sample_rate":null,"http_failure_feedback_role_arn":null,"http_success_feedback_role_arn":null,"http_success_feedback_sample_rate":null,"kms_master_key_id":null,"lambda_failure_feedback_role_arn":null,"lambda_success_feedback_role_arn":null,"lambda_success_feedback_sample_rate":null,"name":"underutilized_sns_topic","sqs_failure_feedback_role_arn":null,"sqs_success_feedback_role_arn":null,"sqs_success_feedback_sample_rate":null,"tags":null},"after_unknown":{"arn":true,"beginning_archive_time":true,"id":true,"name_prefix":true,"owner":true,"policy":true,"signature_version":true,"tags_all":true,"tracing_config":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.finops.aws_sns_topic_subscription.user_updates_sqs_target","module_address":"module.finops","mode":"managed","type":"aws_sns_topic_subscription","name":"user_updates_sqs_target","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"confirmation_timeout_in_minutes":1,"delivery_policy":null,"endpoint":"bambini.leonardo2@gmail.com","endpoint_auto_confirms":false,"filter_policy":null,"protocol":"email","raw_message_delivery":false,"redrive_policy":null,"replay_policy":null,"subscription_role_arn":null},"after_unknown":{"arn":true,"confirmation_was_authenticated":true,"filter_policy_scope":true,"id":true,"owner_id":true,"pending_confirmation":true,"topic_arn":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.networking.aws_internet_gateway.gw","module_address":"module.networking","mode":"managed","type":"aws_internet_gateway","name":"gw","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"tags":{"Environment":"prd","Project":"ecommerce","Team":"network"},"tags_all":{"Environment":"prd","Project":"ecommerce","Team":"network"},"timeouts":null},"after_unknown":{"arn":true,"id":true,"owner_id":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.networking.aws_security_group.blog-dev-sg","module_address":"module.networking","mode":"managed","type":"aws_security_group","name":"blog-dev-sg","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Security group for the ecommerce webapp","name":"blog-dev-sg","revoke_rules_on_delete":false,"tags":{"Name":"blog-dev-sg"},"tags_all":{"Name":"blog-dev-sg"},"timeouts":null},"after_unknown":{"arn":true,"egress":true,"id":true,"ingress":true,"name_prefix":true,"owner_id":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"egress":[],"ingress":[],"tags":{},"tags_all":{}}}},{"address":"module.networking.aws_security_group.blog-sg","module_address":"module.networking","mode":"managed","type":"aws_security_group","name":"blog-sg","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Security group for the ecommerce webapp","name":"ecommerce-sg","revoke_rules_on_delete":false,"tags":{"Name":"ecommerce-sg"},"tags_all":{"Name":"ecommerce-sg"},"timeouts":null},"after_unknown":{"arn":true,"egress":true,"id":true,"ingress":true,"name_prefix":true,"owner_id":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"egress":[],"ingress":[],"tags":{},"tags_all":{}}}},{"address":"module.networking.aws_security_group.ecommerce-dev-sg","module_address":"module.networking","mode":"managed","type":"aws_security_group","name":"ecommerce-dev-sg","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Security group for the ecommerce webapp","name":"ecommerce-dev-sg","revoke_rules_on_delete":false,"tags":{"Name":"ecommerce-dev-sg"},"tags_all":{"Name":"ecommerce-dev-sg"},"timeouts":null},"after_unknown":{"arn":true,"egress":true,"id":true,"ingress":true,"name_prefix":true,"owner_id":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"egress":[],"ingress":[],"tags":{},"tags_all":{}}}},{"address":"module.networking.aws_security_group.ecommerce-sg","module_address":"module.networking","mode":"managed","type":"aws_security_group","name":"ecommerce-sg","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Security group for the ecommerce webapp","name":"ecommerce-sg","revoke_rules_on_delete":false,"tags":{"Name":"ecommerce-sg"},"tags_all":{"Name":"ecommerce-sg"},"timeouts":null},"after_unknown":{"arn":true,"egress":true,"id":true,"ingress":true,"name_prefix":true,"owner_id":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"egress":[],"ingress":[],"tags":{},"tags_all":{}}}},{"address":"module.networking.aws_subnet.blog_dev_subnet","module_address":"module.networking","mode":"managed","type":"aws_subnet","name":"blog_dev_subnet","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"cidr_block":"10.3.1.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"Environment":"dev","Name":"blog_dev_subnet","Project":"blog","Team":"network"},"tags_all":{"Environment":"dev","Name":"blog_dev_subnet","Project":"blog","Team":"network"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.networking.aws_subnet.blog_prd_subnet","module_address":"module.networking","mode":"managed","type":"aws_subnet","name":"blog_prd_subnet","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"cidr_block":"10.2.1.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"Environment":"prd","Name":"blog_prd_subnet","Project":"blog","Team":"network"},"tags_all":{"Environment":"prd","Name":"blog_prd_subnet","Project":"blog","Team":"network"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.networking.aws_subnet.ecommerce_dev_subnet","module_address":"module.networking","mode":"managed","type":"aws_subnet","name":"ecommerce_dev_subnet","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"cidr_block":"10.1.1.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"Environment":"dev","Name":"ecommerce_dev_subnet","Project":"ecommerce","Team":"network"},"tags_all":{"Environment":"dev","Name":"ecommerce_dev_subnet","Project":"ecommerce","Team":"network"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.networking.aws_subnet.ecommerce_prd_subnet1","module_address":"module.networking","mode":"managed","type":"aws_subnet","name":"ecommerce_prd_subnet1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"eu-central-1a","cidr_block":"10.0.1.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"Environment":"prd","Name":"ecommerce_prd_subnet1","Project":"ecommerce","Team":"network"},"tags_all":{"Environment":"prd","Name":"ecommerce_prd_subnet1","Project":"ecommerce","Team":"network"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.networking.aws_subnet.ecommerce_prd_subnet2","module_address":"module.networking","mode":"managed","type":"aws_subnet","name":"ecommerce_prd_subnet2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"eu-central-1b","cidr_block":"10.0.2.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"Environment":"prd","Name":"ecommerce_prd_subnet2","Project":"ecommerce","Team":"network"},"tags_all":{"Environment":"prd","Name":"ecommerce_prd_subnet2","Project":"ecommerce","Team":"network"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.networking.aws_vpc.blog_dev_vpc","module_address":"module.networking","mode":"managed","type":"aws_vpc","name":"blog_dev_vpc","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_generated_ipv6_cidr_block":null,"cidr_block":"10.3.0.0/16","enable_dns_support":true,"instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_ipam_pool_id":null,"ipv6_netmask_length":null,"tags":{"Environment":"dev","Name":"blog_dev_vpc","Project":"blog","Team":"network"},"tags_all":{"Environment":"dev","Name":"blog_dev_vpc","Project":"blog","Team":"network"}},"after_unknown":{"arn":true,"default_network_acl_id":true,"default_route_table_id":true,"default_security_group_id":true,"dhcp_options_id":true,"enable_dns_hostnames":true,"enable_network_address_usage_metrics":true,"id":true,"ipv6_association_id":true,"ipv6_cidr_block":true,"ipv6_cidr_block_network_border_group":true,"main_route_table_id":true,"owner_id":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.networking.aws_vpc.blog_prd_vpc","module_address":"module.networking","mode":"managed","type":"aws_vpc","name":"blog_prd_vpc","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_generated_ipv6_cidr_block":null,"cidr_block":"10.2.0.0/16","enable_dns_support":true,"instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_ipam_pool_id":null,"ipv6_netmask_length":null,"tags":{"Environment":"prd","Name":"blog_prd_vpc","Project":"blog","Team":"network"},"tags_all":{"Environment":"prd","Name":"blog_prd_vpc","Project":"blog","Team":"network"}},"after_unknown":{"arn":true,"default_network_acl_id":true,"default_route_table_id":true,"default_security_group_id":true,"dhcp_options_id":true,"enable_dns_hostnames":true,"enable_network_address_usage_metrics":true,"id":true,"ipv6_association_id":true,"ipv6_cidr_block":true,"ipv6_cidr_block_network_border_group":true,"main_route_table_id":true,"owner_id":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.networking.aws_vpc.ecommerce_dev_vpc","module_address":"module.networking","mode":"managed","type":"aws_vpc","name":"ecommerce_dev_vpc","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_generated_ipv6_cidr_block":null,"cidr_block":"10.1.0.0/16","enable_dns_support":true,"instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_ipam_pool_id":null,"ipv6_netmask_length":null,"tags":{"Environment":"dev","Name":"ecommerce_dev_vpc","Project":"ecommerce","Team":"network"},"tags_all":{"Environment":"dev","Name":"ecommerce_dev_vpc","Project":"ecommerce","Team":"network"}},"after_unknown":{"arn":true,"default_network_acl_id":true,"default_route_table_id":true,"default_security_group_id":true,"dhcp_options_id":true,"enable_dns_hostnames":true,"enable_network_address_usage_metrics":true,"id":true,"ipv6_association_id":true,"ipv6_cidr_block":true,"ipv6_cidr_block_network_border_group":true,"main_route_table_id":true,"owner_id":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.networking.aws_vpc.ecommerce_prd_vpc","module_address":"module.networking","mode":"managed","type":"aws_vpc","name":"ecommerce_prd_vpc","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_generated_ipv6_cidr_block":null,"cidr_block":"10.0.0.0/16","enable_dns_support":true,"instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_ipam_pool_id":null,"ipv6_netmask_length":null,"tags":{"Environment":"prd","Name":"ecommerce_prd_vpc","Project":"ecommerce","Team":"network"},"tags_all":{"Environment":"prd","Name":"ecommerce_prd_vpc","Project":"ecommerce","Team":"network"}},"after_unknown":{"arn":true,"default_network_acl_id":true,"default_route_table_id":true,"default_security_group_id":true,"dhcp_options_id":true,"enable_dns_hostnames":true,"enable_network_address_usage_metrics":true,"id":true,"ipv6_association_id":true,"ipv6_cidr_block":true,"ipv6_cidr_block_network_border_group":true,"main_route_table_id":true,"owner_id":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.networking.aws_vpc_security_group_egress_rule.blog_allow_all_traffic_ipv4","module_address":"module.networking","mode":"managed","type":"aws_vpc_security_group_egress_rule","name":"blog_allow_all_traffic_ipv4","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":null,"from_port":null,"ip_protocol":"-1","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{},"to_port":null},"after_unknown":{"arn":true,"id":true,"security_group_id":true,"security_group_rule_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.networking.aws_vpc_security_group_egress_rule.blog_dev_allow_all_traffic_ipv4","module_address":"module.networking","mode":"managed","type":"aws_vpc_security_group_egress_rule","name":"blog_dev_allow_all_traffic_ipv4","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":null,"from_port":null,"ip_protocol":"-1","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{},"to_port":null},"after_unknown":{"arn":true,"id":true,"security_group_id":true,"security_group_rule_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.networking.aws_vpc_security_group_egress_rule.ecommerce_allow_all_traffic_ipv4","module_address":"module.networking","mode":"managed","type":"aws_vpc_security_group_egress_rule","name":"ecommerce_allow_all_traffic_ipv4","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":null,"from_port":null,"ip_protocol":"-1","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{},"to_port":null},"after_unknown":{"arn":true,"id":true,"security_group_id":true,"security_group_rule_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.networking.aws_vpc_security_group_egress_rule.ecommerce_dev_allow_all_traffic_ipv4","module_address":"module.networking","mode":"managed","type":"aws_vpc_security_group_egress_rule","name":"ecommerce_dev_allow_all_traffic_ipv4","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":null,"from_port":null,"ip_protocol":"-1","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{},"to_port":null},"after_unknown":{"arn":true,"id":true,"security_group_id":true,"security_group_rule_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.networking.aws_vpc_security_group_ingress_rule.blog_allow_http","module_address":"module.networking","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"blog_allow_http","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":null,"from_port":80,"ip_protocol":"tcp","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{},"to_port":80},"after_unknown":{"arn":true,"id":true,"security_group_id":true,"security_group_rule_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.networking.aws_vpc_security_group_ingress_rule.blog_allow_https","module_address":"module.networking","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"blog_allow_https","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":null,"from_port":443,"ip_protocol":"tcp","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{},"to_port":443},"after_unknown":{"arn":true,"id":true,"security_group_id":true,"security_group_rule_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.networking.aws_vpc_security_group_ingress_rule.blog_allow_ssh","module_address":"module.networking","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"blog_allow_ssh","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":null,"from_port":22,"ip_protocol":"tcp","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{},"to_port":22},"after_unknown":{"arn":true,"id":true,"security_group_id":true,"security_group_rule_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.networking.aws_vpc_security_group_ingress_rule.blog_dev_allow_http","module_address":"module.networking","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"blog_dev_allow_http","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":null,"from_port":80,"ip_protocol":"tcp","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{},"to_port":80},"after_unknown":{"arn":true,"id":true,"security_group_id":true,"security_group_rule_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.networking.aws_vpc_security_group_ingress_rule.blog_dev_allow_https","module_address":"module.networking","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"blog_dev_allow_https","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":null,"from_port":443,"ip_protocol":"tcp","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{},"to_port":443},"after_unknown":{"arn":true,"id":true,"security_group_id":true,"security_group_rule_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.networking.aws_vpc_security_group_ingress_rule.blog_dev_allow_ssh","module_address":"module.networking","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"blog_dev_allow_ssh","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":null,"from_port":22,"ip_protocol":"tcp","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{},"to_port":22},"after_unknown":{"arn":true,"id":true,"security_group_id":true,"security_group_rule_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.networking.aws_vpc_security_group_ingress_rule.ecommerce_allow_http","module_address":"module.networking","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"ecommerce_allow_http","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":null,"from_port":80,"ip_protocol":"tcp","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{},"to_port":80},"after_unknown":{"arn":true,"id":true,"security_group_id":true,"security_group_rule_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.networking.aws_vpc_security_group_ingress_rule.ecommerce_allow_https","module_address":"module.networking","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"ecommerce_allow_https","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":null,"from_port":443,"ip_protocol":"tcp","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{},"to_port":443},"after_unknown":{"arn":true,"id":true,"security_group_id":true,"security_group_rule_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.networking.aws_vpc_security_group_ingress_rule.ecommerce_allow_ssh","module_address":"module.networking","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"ecommerce_allow_ssh","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":null,"from_port":22,"ip_protocol":"tcp","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{},"to_port":22},"after_unknown":{"arn":true,"id":true,"security_group_id":true,"security_group_rule_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.networking.aws_vpc_security_group_ingress_rule.ecommerce_dev_allow_http","module_address":"module.networking","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"ecommerce_dev_allow_http","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":null,"from_port":80,"ip_protocol":"tcp","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{},"to_port":80},"after_unknown":{"arn":true,"id":true,"security_group_id":true,"security_group_rule_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.networking.aws_vpc_security_group_ingress_rule.ecommerce_dev_allow_https","module_address":"module.networking","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"ecommerce_dev_allow_https","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":null,"from_port":443,"ip_protocol":"tcp","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{},"to_port":443},"after_unknown":{"arn":true,"id":true,"security_group_id":true,"security_group_rule_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.networking.aws_vpc_security_group_ingress_rule.ecommerce_dev_allow_ssh","module_address":"module.networking","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"ecommerce_dev_allow_ssh","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":null,"from_port":22,"ip_protocol":"tcp","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{},"to_port":22},"after_unknown":{"arn":true,"id":true,"security_group_id":true,"security_group_rule_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.s3.aws_s3_bucket.ecommerce_s3","module_address":"module.s3","mode":"managed","type":"aws_s3_bucket","name":"ecommerce_s3","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"bucket":"ecommerce-s3-367743689984","force_destroy":false,"tags":{"Environment":"prd","Name":"ecommerce_s3","Project":"ecommerce","Team":"devops"},"tags_all":{"Environment":"prd","Name":"ecommerce_s3","Project":"ecommerce","Team":"devops"},"timeouts":null},"after_unknown":{"acceleration_status":true,"acl":true,"arn":true,"bucket_domain_name":true,"bucket_prefix":true,"bucket_regional_domain_name":true,"cors_rule":true,"grant":true,"hosted_zone_id":true,"id":true,"lifecycle_rule":true,"logging":true,"object_lock_configuration":true,"object_lock_enabled":true,"policy":true,"region":true,"replication_configuration":true,"request_payer":true,"server_side_encryption_configuration":true,"tags":{},"tags_all":{},"versioning":true,"website":true,"website_domain":true,"website_endpoint":true},"before_sensitive":false,"after_sensitive":{"cors_rule":[],"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[],"tags":{},"tags_all":{},"versioning":[],"website":[]}}},{"address":"module.s3.aws_s3_bucket_lifecycle_configuration.bucket-config","module_address":"module.s3","mode":"managed","type":"aws_s3_bucket_lifecycle_configuration","name":"bucket-config","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"expected_bucket_owner":null,"rule":[{"abort_incomplete_multipart_upload":[],"expiration":[{"date":null,"days":90}],"filter":[{"and":[{"object_size_greater_than":null,"object_size_less_than":null,"prefix":"log/","tags":{"autoclean":"true","rule":"log"}}],"object_size_greater_than":null,"object_size_less_than":null,"prefix":null,"tag":[]}],"id":"log","noncurrent_version_expiration":[],"noncurrent_version_transition":[],"prefix":null,"status":"Enabled","transition":[{"date":"","days":30,"storage_class":"STANDARD_IA"},{"date":"","days":60,"storage_class":"ONEZONE_IA"}]}],"timeouts":null},"after_unknown":{"bucket":true,"id":true,"rule":[{"abort_incomplete_multipart_upload":[],"expiration":[{"expired_object_delete_marker":true}],"filter":[{"and":[{"tags":{}}],"tag":[]}],"noncurrent_version_expiration":[],"noncurrent_version_transition":[],"transition":[{},{}]}]},"before_sensitive":false,"after_sensitive":{"rule":[{"abort_incomplete_multipart_upload":[],"expiration":[{}],"filter":[{"and":[{"tags":{}}],"tag":[]}],"noncurrent_version_expiration":[],"noncurrent_version_transition":[],"transition":[{},{}]}]}}}],"prior_state":{"format_version":"1.0","terraform_version":"1.4.0","values":{"root_module":{"child_modules":[{"resources":[{"address":"module.finops.data.archive_file.underutilized_function_file","mode":"data","type":"archive_file","name":"underutilized_function_file","provider_name":"registry.terraform.io/hashicorp/archive","schema_version":0,"values":{"exclude_symlink_directories":null,"excludes":null,"id":"d6d314e3228f1ee19bcc9f07cc66a2974fe36dfd","output_base64sha256":"3xUGepuuURdMiJ+efdXVm0Qhk5LR9/BdG5ULkXhlYYA=","output_base64sha512":"q+/MBtmgdPLCtJZBEMZ6UChe/eBMVVN+qseZeyuya48mBiWPGvjjT9Hq6Rgi8+brnomRqjiG22ZqBbq3xeD3rQ==","output_file_mode":null,"output_md5":"d173c05de5760937f35a929d863ec02e","output_path":"modules/finops/check_underutilized.py.zip","output_sha":"d6d314e3228f1ee19bcc9f07cc66a2974fe36dfd","output_sha256":"df15067a9bae51174c889f9e7dd5d59b44219392d1f7f05d1b950b9178656180","output_sha512":"abefcc06d9a074f2c2b4964110c67a50285efde04c55537eaac7997b2bb26b8f2606258f1af8e34fd1eae91822f3e6eb9e8991aa3886db666a05bab7c5e0f7ad","output_size":1064,"source":[],"source_content":null,"source_content_filename":null,"source_dir":null,"source_file":"modules/finops/check_underutilized.py","type":"zip"},"sensitive_values":{"source":[]}},{"address":"module.finops.data.aws_iam_policy_document.underutilized_every_1_hour_role_policy","mode":"data","type":"aws_iam_policy_document","name":"underutilized_every_1_hour_role_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"52247394","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"scheduler.amazonaws.com\"\n      }\n    }\n  ]\n}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRole"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["scheduler.amazonaws.com"],"type":"Service"}],"resources":[],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false]}],"resources":[]}]}},{"address":"module.finops.data.aws_iam_policy_document.underutilized_lambda_assume_role","mode":"data","type":"aws_iam_policy_document","name":"underutilized_lambda_assume_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"2690255455","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"lambda.amazonaws.com\"\n      }\n    }\n  ]\n}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRole"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["lambda.amazonaws.com"],"type":"Service"}],"resources":[],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false]}],"resources":[]}]}}],"address":"module.finops"}]}}},"configuration":{"provider_config":{"aws":{"name":"aws","full_name":"registry.terraform.io/hashicorp/aws","version_constraint":"~\u003e 5.0","expressions":{"region":{"references":["var.region"]}}},"module.finops:archive":{"name":"archive","full_name":"registry.terraform.io/hashicorp/archive","module_address":"module.finops"}},"root_module":{"module_calls":{"blog":{"source":"./modules/blog","expressions":{"security_groups":{"references":["module.networking.blog_sg_id","module.networking"]},"security_groups_dev":{"references":["module.networking.blog_dev_sg_id","module.networking"]},"subnet_dev_id":{"references":["module.networking.blog_dev_subnet_id","module.networking"]},"subnet_prd_id":{"references":["module.networking.blog_prd_subnet_id","module.networking"]},"vpc_id":{"references":["module.networking.blog_prd_vpc_id","module.networking"]}},"module":{"resources":[{"address":"aws_instance.blog-dev","mode":"managed","type":"aws_instance","name":"blog-dev","provider_config_key":"aws","expressions":{"ami":{"constant_value":"ami-04be05782cc558e6b"},"instance_type":{"constant_value":"t2.micro"},"key_name":{"constant_value":"blog"},"subnet_id":{"references":["var.subnet_dev_id"]},"tags":{"constant_value":{"Environment":"prd","Name":"blog2","Project":"blog","Team":"devops"}},"vpc_security_group_ids":{"references":["var.security_groups_dev"]}},"schema_version":1},{"address":"aws_instance.blog-prd","mode":"managed","type":"aws_instance","name":"blog-prd","provider_config_key":"aws","expressions":{"ami":{"constant_value":"ami-04be05782cc558e6b"},"instance_type":{"constant_value":"t2.micro"},"key_name":{"constant_value":"blog"},"subnet_id":{"references":["var.subnet_prd_id"]},"tags":{"constant_value":{"Environment":"prd","Name":"blog1","Project":"blog","Team":"devops"}},"user_data":{"constant_value":"#!/bin/bash\nsudo python3 ecommerce.py\n"},"vpc_security_group_ids":{"references":["var.security_groups"]}},"schema_version":1}],"variables":{"security_groups":{},"security_groups_dev":{},"subnet_dev_id":{},"subnet_prd_id":{},"vpc_id":{}}}},"db":{"source":"./modules/db","expressions":{"db_password":{"references":["var.db_password"]},"db_username":{"references":["var.db_username"]}},"module":{"resources":[{"address":"aws_db_instance.ecommerce-db","mode":"managed","type":"aws_db_instance","name":"ecommerce-db","provider_config_key":"aws","expressions":{"allocated_storage":{"constant_value":10},"db_name":{"constant_value":"ecommercedb"},"engine":{"constant_value":"mysql"},"instance_class":{"constant_value":"db.t3.micro"},"password":{"references":["var.db_password"]},"skip_final_snapshot":{"constant_value":true},"tags":{"constant_value":{"Environment":"prd","Project":"ecommerce","Team":"devops"}},"username":{"references":["var.db_username"]}},"schema_version":2}],"variables":{"db_password":{"description":"DB password","sensitive":true},"db_username":{"description":"DB username","sensitive":true}}}},"ecommerce":{"source":"./modules/ecommerce","expressions":{"alb_sgs":{"references":["module.networking.ecommerce_sg_id","module.networking"]},"alb_subnets":{"references":["module.networking.ecommerce_prd_subnet1_id","module.networking","module.networking.ecommerce_prd_subnet2_id","module.networking"]},"security_groups_dev":{"references":["module.networking.ecommerce_dev_sg_id","module.networking"]},"subnet_dev_id":{"references":["module.networking.ecommerce_dev_subnet_id","module.networking"]},"subnet_prd_1_id":{"references":["module.networking.ecommerce_prd_subnet1_id","module.networking"]},"subnet_prd_2_id":{"references":["module.networking.ecommerce_prd_subnet2_id","module.networking"]},"vpc_id":{"references":["module.networking.ecommerce_prd_vpc_id","module.networking"]}},"module":{"resources":[{"address":"aws_autoscaling_group.ecommerce_autoscaling_group","mode":"managed","type":"aws_autoscaling_group","name":"ecommerce_autoscaling_group","provider_config_key":"aws","expressions":{"force_delete":{"constant_value":true},"health_check_grace_period":{"constant_value":300},"health_check_type":{"constant_value":"ELB"},"instance_maintenance_policy":[{"max_healthy_percentage":{"constant_value":120},"min_healthy_percentage":{"constant_value":90}}],"launch_template":[{"id":{"references":["aws_launch_template.ecommerce_launch_template.id","aws_launch_template.ecommerce_launch_template"]}}],"max_size":{"constant_value":3},"min_size":{"constant_value":2},"name":{"constant_value":"ecommerce_autoscaling_group2"},"tag":[{"key":{"constant_value":"Project"},"propagate_at_launch":{"constant_value":true},"value":{"constant_value":"ecommerce"}},{"key":{"constant_value":"Team"},"propagate_at_launch":{"constant_value":true},"value":{"constant_value":"devops"}},{"key":{"constant_value":"Environment"},"propagate_at_launch":{"constant_value":true},"value":{"constant_value":"prd"}}],"target_group_arns":{"references":["aws_lb_target_group.ecommerce-tg.arn","aws_lb_target_group.ecommerce-tg"]},"timeouts":{"delete":{"constant_value":"15m"}},"vpc_zone_identifier":{"references":["var.subnet_prd_1_id","var.subnet_prd_2_id"]}},"schema_version":1},{"address":"aws_autoscaling_policy.ecommerce_autoscaling_policy","mode":"managed","type":"aws_autoscaling_policy","name":"ecommerce_autoscaling_policy","provider_config_key":"aws","expressions":{"autoscaling_group_name":{"references":["aws_autoscaling_group.ecommerce_autoscaling_group.name","aws_autoscaling_group.ecommerce_autoscaling_group"]},"name":{"constant_value":"ecommerce_autoscaling_policy"},"policy_type":{"constant_value":"TargetTrackingScaling"},"target_tracking_configuration":[{"predefined_metric_specification":[{"predefined_metric_type":{"constant_value":"ASGAverageCPUUtilization"}}],"target_value":{"constant_value":70}}]},"schema_version":0},{"address":"aws_instance.ecommerce-dev","mode":"managed","type":"aws_instance","name":"ecommerce-dev","provider_config_key":"aws","expressions":{"ami":{"constant_value":"ami-04be05782cc558e6b"},"instance_type":{"constant_value":"t2.micro"},"key_name":{"constant_value":"ecommerce"},"subnet_id":{"references":["var.subnet_dev_id"]},"tags":{"constant_value":{"Environment":"dev","Name":"ecommerce-dev","Project":"ecommerce","Team":"devops"}},"vpc_security_group_ids":{"references":["var.security_groups_dev"]}},"schema_version":1},{"address":"aws_launch_template.ecommerce_launch_template","mode":"managed","type":"aws_launch_template","name":"ecommerce_launch_template","provider_config_key":"aws","expressions":{"image_id":{"constant_value":"ami-0f7204385566b32d0"},"instance_type":{"constant_value":"t2.micro"},"key_name":{"constant_value":"ecommerce"},"name":{"constant_value":"ecommerce_launch_template"},"tag_specifications":[{"resource_type":{"constant_value":"instance"},"tags":{"constant_value":{"Name":"ecommerce"}}}],"user_data":{"references":["path.module"]},"vpc_security_group_ids":{"references":["var.alb_sgs"]}},"schema_version":0},{"address":"aws_lb.ecommerce-alb","mode":"managed","type":"aws_lb","name":"ecommerce-alb","provider_config_key":"aws","expressions":{"enable_deletion_protection":{"constant_value":false},"internal":{"constant_value":false},"load_balancer_type":{"constant_value":"application"},"name":{"constant_value":"ecommerce-alb"},"security_groups":{"references":["var.alb_sgs"]},"subnets":{"references":["var.alb_subnets"]},"tags":{"constant_value":{"Environment":"prd","Project":"ecommerce","Team":"devops"}}},"schema_version":0},{"address":"aws_lb_listener.my_alb_listener","mode":"managed","type":"aws_lb_listener","name":"my_alb_listener","provider_config_key":"aws","expressions":{"default_action":[{"target_group_arn":{"references":["aws_lb_target_group.ecommerce-tg.arn","aws_lb_target_group.ecommerce-tg"]},"type":{"constant_value":"forward"}}],"load_balancer_arn":{"references":["aws_lb.ecommerce-alb.id","aws_lb.ecommerce-alb"]},"port":{"constant_value":"80"},"protocol":{"constant_value":"HTTP"}},"schema_version":0},{"address":"aws_lb_target_group.ecommerce-tg","mode":"managed","type":"aws_lb_target_group","name":"ecommerce-tg","provider_config_key":"aws","expressions":{"name":{"constant_value":"ecommerce-tg"},"port":{"constant_value":80},"protocol":{"constant_value":"HTTP"},"vpc_id":{"references":["var.vpc_id"]}},"schema_version":0}],"variables":{"alb_sgs":{"description":"ALB security groups"},"alb_subnets":{"description":"ALB subnets"},"security_groups_dev":{},"subnet_dev_id":{},"subnet_prd_1_id":{},"subnet_prd_2_id":{},"vpc_id":{}}}},"finops":{"source":"./modules/finops","expressions":{"alert_mail_recvr":{"references":["var.alert_mail_recvr"]}},"module":{"resources":[{"address":"aws_iam_role.underutilized_every_1_hour_role","mode":"managed","type":"aws_iam_role","name":"underutilized_every_1_hour_role","provider_config_key":"aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.underutilized_every_1_hour_role_policy.json","data.aws_iam_policy_document.underutilized_every_1_hour_role_policy"]},"inline_policy":[{"name":{"constant_value":"underutilized_every_1_hour_inline_policy"},"policy":{"references":["aws_lambda_function.underutilized_lambda.arn","aws_lambda_function.underutilized_lambda","aws_lambda_function.underutilized_lambda.arn","aws_lambda_function.underutilized_lambda"]}}],"name":{"constant_value":"underutilized_every_1_hour_role"}},"schema_version":0},{"address":"aws_iam_role.underutilized_lambda_iam_role","mode":"managed","type":"aws_iam_role","name":"underutilized_lambda_iam_role","provider_config_key":"aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.underutilized_lambda_assume_role.json","data.aws_iam_policy_document.underutilized_lambda_assume_role"]},"inline_policy":[{"name":{"constant_value":"underutilized_lambda_iam_role_inline_policy"},"policy":{"references":["aws_sns_topic.underutilized_sns_topic.arn","aws_sns_topic.underutilized_sns_topic"]}}],"managed_policy_arns":{"constant_value":["arn:aws:iam::aws:policy/AmazonEC2ReadOnlyAccess","arn:aws:iam::aws:policy/AmazonRDSReadOnlyAccess","arn:aws:iam::aws:policy/CloudWatchReadOnlyAccess"]},"name":{"constant_value":"underutilized_lambda_iam_role"}},"schema_version":0},{"address":"aws_lambda_function.underutilized_lambda","mode":"managed","type":"aws_lambda_function","name":"underutilized_lambda","provider_config_key":"aws","expressions":{"filename":{"references":["path.module"]},"function_name":{"constant_value":"check_underutilized"},"handler":{"constant_value":"check_underutilized.lambda_handler"},"role":{"references":["aws_iam_role.underutilized_lambda_iam_role.arn","aws_iam_role.underutilized_lambda_iam_role"]},"runtime":{"constant_value":"python3.12"},"source_code_hash":{"references":["data.archive_file.underutilized_function_file.output_base64sha256","data.archive_file.underutilized_function_file"]},"tags":{"constant_value":{"Environment":"all","Project":"infra","Team":"finops"}},"timeout":{"constant_value":600}},"schema_version":0},{"address":"aws_lambda_function_event_invoke_config.underutilized_lambda_event_invoke_config","mode":"managed","type":"aws_lambda_function_event_invoke_config","name":"underutilized_lambda_event_invoke_config","provider_config_key":"aws","expressions":{"destination_config":[{"on_success":[{"destination":{"references":["aws_sns_topic.underutilized_sns_topic.arn","aws_sns_topic.underutilized_sns_topic"]}}]}],"function_name":{"references":["aws_lambda_function.underutilized_lambda.arn","aws_lambda_function.underutilized_lambda"]}},"schema_version":0},{"address":"aws_scheduler_schedule.underutilized_every_1_hour","mode":"managed","type":"aws_scheduler_schedule","name":"underutilized_every_1_hour","provider_config_key":"aws","expressions":{"flexible_time_window":[{"mode":{"constant_value":"OFF"}}],"group_name":{"constant_value":"default"},"name":{"constant_value":"underutilized_every_1_hour"},"schedule_expression":{"constant_value":"rate(5 minutes)"},"state":{"constant_value":"DISABLED"},"target":[{"arn":{"references":["aws_lambda_function.underutilized_lambda.arn","aws_lambda_function.underutilized_lambda"]},"input":{},"role_arn":{"references":["aws_iam_role.underutilized_every_1_hour_role.arn","aws_iam_role.underutilized_every_1_hour_role"]}}]},"schema_version":0},{"address":"aws_sns_topic.underutilized_sns_topic","mode":"managed","type":"aws_sns_topic","name":"underutilized_sns_topic","provider_config_key":"aws","expressions":{"name":{"constant_value":"underutilized_sns_topic"}},"schema_version":0},{"address":"aws_sns_topic_subscription.user_updates_sqs_target","mode":"managed","type":"aws_sns_topic_subscription","name":"user_updates_sqs_target","provider_config_key":"aws","expressions":{"endpoint":{"references":["var.alert_mail_recvr"]},"protocol":{"constant_value":"email"},"topic_arn":{"references":["aws_sns_topic.underutilized_sns_topic.arn","aws_sns_topic.underutilized_sns_topic"]}},"schema_version":0},{"address":"data.archive_file.underutilized_function_file","mode":"data","type":"archive_file","name":"underutilized_function_file","provider_config_key":"module.finops:archive","expressions":{"output_path":{"references":["path.module"]},"source_file":{"references":["path.module"]},"type":{"constant_value":"zip"}},"schema_version":0},{"address":"data.aws_iam_policy_document.underutilized_every_1_hour_role_policy","mode":"data","type":"aws_iam_policy_document","name":"underutilized_every_1_hour_role_policy","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sts:AssumeRole"]},"principals":[{"identifiers":{"constant_value":["scheduler.amazonaws.com"]},"type":{"constant_value":"Service"}}]}]},"schema_version":0},{"address":"data.aws_iam_policy_document.underutilized_lambda_assume_role","mode":"data","type":"aws_iam_policy_document","name":"underutilized_lambda_assume_role","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sts:AssumeRole"]},"effect":{"constant_value":"Allow"},"principals":[{"identifiers":{"constant_value":["lambda.amazonaws.com"]},"type":{"constant_value":"Service"}}]}]},"schema_version":0}],"variables":{"alert_mail_recvr":{"description":"Receiver email address for finops notifications"}}}},"networking":{"source":"./modules/networking","module":{"outputs":{"blog_dev_sg_id":{"expression":{"references":["aws_security_group.blog-dev-sg.id","aws_security_group.blog-dev-sg"]}},"blog_dev_subnet_id":{"expression":{"references":["aws_subnet.blog_dev_subnet.id","aws_subnet.blog_dev_subnet"]}},"blog_dev_vpc_id":{"expression":{"references":["aws_vpc.blog_dev_vpc.id","aws_vpc.blog_dev_vpc"]}},"blog_prd_subnet_id":{"expression":{"references":["aws_subnet.blog_prd_subnet.id","aws_subnet.blog_prd_subnet"]}},"blog_prd_vpc_id":{"expression":{"references":["aws_vpc.blog_prd_vpc.id","aws_vpc.blog_prd_vpc"]}},"blog_sg_id":{"expression":{"references":["aws_security_group.blog-sg.id","aws_security_group.blog-sg"]}},"ecommerce_dev_sg_id":{"expression":{"references":["aws_security_group.ecommerce-dev-sg.id","aws_security_group.ecommerce-dev-sg"]}},"ecommerce_dev_subnet_id":{"expression":{"references":["aws_subnet.ecommerce_dev_subnet.id","aws_subnet.ecommerce_dev_subnet"]}},"ecommerce_dev_vpc_id":{"expression":{"references":["aws_vpc.ecommerce_dev_vpc.id","aws_vpc.ecommerce_dev_vpc"]}},"ecommerce_prd_subnet1_id":{"expression":{"references":["aws_subnet.ecommerce_prd_subnet1.id","aws_subnet.ecommerce_prd_subnet1"]}},"ecommerce_prd_subnet2_id":{"expression":{"references":["aws_subnet.ecommerce_prd_subnet2.id","aws_subnet.ecommerce_prd_subnet2"]}},"ecommerce_prd_vpc_id":{"expression":{"references":["aws_vpc.ecommerce_prd_vpc.id","aws_vpc.ecommerce_prd_vpc"]}},"ecommerce_sg_id":{"expression":{"references":["aws_security_group.ecommerce-sg.id","aws_security_group.ecommerce-sg"]}}},"resources":[{"address":"aws_internet_gateway.gw","mode":"managed","type":"aws_internet_gateway","name":"gw","provider_config_key":"aws","expressions":{"tags":{"constant_value":{"Environment":"prd","Project":"ecommerce","Team":"network"}},"vpc_id":{"references":["aws_vpc.ecommerce_prd_vpc.id","aws_vpc.ecommerce_prd_vpc"]}},"schema_version":0},{"address":"aws_security_group.blog-dev-sg","mode":"managed","type":"aws_security_group","name":"blog-dev-sg","provider_config_key":"aws","expressions":{"description":{"constant_value":"Security group for the ecommerce webapp"},"name":{"constant_value":"blog-dev-sg"},"tags":{"constant_value":{"Name":"blog-dev-sg"}},"vpc_id":{"references":["aws_vpc.blog_dev_vpc.id","aws_vpc.blog_dev_vpc"]}},"schema_version":1},{"address":"aws_security_group.blog-sg","mode":"managed","type":"aws_security_group","name":"blog-sg","provider_config_key":"aws","expressions":{"description":{"constant_value":"Security group for the ecommerce webapp"},"name":{"constant_value":"ecommerce-sg"},"tags":{"constant_value":{"Name":"ecommerce-sg"}},"vpc_id":{"references":["aws_vpc.blog_prd_vpc.id","aws_vpc.blog_prd_vpc"]}},"schema_version":1},{"address":"aws_security_group.ecommerce-dev-sg","mode":"managed","type":"aws_security_group","name":"ecommerce-dev-sg","provider_config_key":"aws","expressions":{"description":{"constant_value":"Security group for the ecommerce webapp"},"name":{"constant_value":"ecommerce-dev-sg"},"tags":{"constant_value":{"Name":"ecommerce-dev-sg"}},"vpc_id":{"references":["aws_vpc.ecommerce_dev_vpc.id","aws_vpc.ecommerce_dev_vpc"]}},"schema_version":1},{"address":"aws_security_group.ecommerce-sg","mode":"managed","type":"aws_security_group","name":"ecommerce-sg","provider_config_key":"aws","expressions":{"description":{"constant_value":"Security group for the ecommerce webapp"},"name":{"constant_value":"ecommerce-sg"},"tags":{"constant_value":{"Name":"ecommerce-sg"}},"vpc_id":{"references":["aws_vpc.ecommerce_prd_vpc.id","aws_vpc.ecommerce_prd_vpc"]}},"schema_version":1},{"address":"aws_subnet.blog_dev_subnet","mode":"managed","type":"aws_subnet","name":"blog_dev_subnet","provider_config_key":"aws","expressions":{"cidr_block":{"constant_value":"10.3.1.0/24"},"tags":{"constant_value":{"Environment":"dev","Name":"blog_dev_subnet","Project":"blog","Team":"network"}},"vpc_id":{"references":["aws_vpc.blog_dev_vpc.id","aws_vpc.blog_dev_vpc"]}},"schema_version":1,"depends_on":["aws_vpc.blog_dev_vpc"]},{"address":"aws_subnet.blog_prd_subnet","mode":"managed","type":"aws_subnet","name":"blog_prd_subnet","provider_config_key":"aws","expressions":{"cidr_block":{"constant_value":"10.2.1.0/24"},"tags":{"constant_value":{"Environment":"prd","Name":"blog_prd_subnet","Project":"blog","Team":"network"}},"vpc_id":{"references":["aws_vpc.blog_prd_vpc.id","aws_vpc.blog_prd_vpc"]}},"schema_version":1,"depends_on":["aws_vpc.blog_prd_vpc"]},{"address":"aws_subnet.ecommerce_dev_subnet","mode":"managed","type":"aws_subnet","name":"ecommerce_dev_subnet","provider_config_key":"aws","expressions":{"cidr_block":{"constant_value":"10.1.1.0/24"},"tags":{"constant_value":{"Environment":"dev","Name":"ecommerce_dev_subnet","Project":"ecommerce","Team":"network"}},"vpc_id":{"references":["aws_vpc.ecommerce_dev_vpc.id","aws_vpc.ecommerce_dev_vpc"]}},"schema_version":1,"depends_on":["aws_vpc.ecommerce_dev_vpc"]},{"address":"aws_subnet.ecommerce_prd_subnet1","mode":"managed","type":"aws_subnet","name":"ecommerce_prd_subnet1","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"eu-central-1a"},"cidr_block":{"constant_value":"10.0.1.0/24"},"tags":{"constant_value":{"Environment":"prd","Name":"ecommerce_prd_subnet1","Project":"ecommerce","Team":"network"}},"vpc_id":{"references":["aws_vpc.ecommerce_prd_vpc.id","aws_vpc.ecommerce_prd_vpc"]}},"schema_version":1,"depends_on":["aws_vpc.ecommerce_prd_vpc"]},{"address":"aws_subnet.ecommerce_prd_subnet2","mode":"managed","type":"aws_subnet","name":"ecommerce_prd_subnet2","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"eu-central-1b"},"cidr_block":{"constant_value":"10.0.2.0/24"},"tags":{"constant_value":{"Environment":"prd","Name":"ecommerce_prd_subnet2","Project":"ecommerce","Team":"network"}},"vpc_id":{"references":["aws_vpc.ecommerce_prd_vpc.id","aws_vpc.ecommerce_prd_vpc"]}},"schema_version":1,"depends_on":["aws_vpc.ecommerce_prd_vpc"]},{"address":"aws_vpc.blog_dev_vpc","mode":"managed","type":"aws_vpc","name":"blog_dev_vpc","provider_config_key":"aws","expressions":{"cidr_block":{"constant_value":"10.3.0.0/16"},"tags":{"constant_value":{"Environment":"dev","Name":"blog_dev_vpc","Project":"blog","Team":"network"}}},"schema_version":1},{"address":"aws_vpc.blog_prd_vpc","mode":"managed","type":"aws_vpc","name":"blog_prd_vpc","provider_config_key":"aws","expressions":{"cidr_block":{"constant_value":"10.2.0.0/16"},"tags":{"constant_value":{"Environment":"prd","Name":"blog_prd_vpc","Project":"blog","Team":"network"}}},"schema_version":1},{"address":"aws_vpc.ecommerce_dev_vpc","mode":"managed","type":"aws_vpc","name":"ecommerce_dev_vpc","provider_config_key":"aws","expressions":{"cidr_block":{"constant_value":"10.1.0.0/16"},"tags":{"constant_value":{"Environment":"dev","Name":"ecommerce_dev_vpc","Project":"ecommerce","Team":"network"}}},"schema_version":1},{"address":"aws_vpc.ecommerce_prd_vpc","mode":"managed","type":"aws_vpc","name":"ecommerce_prd_vpc","provider_config_key":"aws","expressions":{"cidr_block":{"constant_value":"10.0.0.0/16"},"tags":{"constant_value":{"Environment":"prd","Name":"ecommerce_prd_vpc","Project":"ecommerce","Team":"network"}}},"schema_version":1},{"address":"aws_vpc_security_group_egress_rule.blog_allow_all_traffic_ipv4","mode":"managed","type":"aws_vpc_security_group_egress_rule","name":"blog_allow_all_traffic_ipv4","provider_config_key":"aws","expressions":{"cidr_ipv4":{"constant_value":"0.0.0.0/0"},"ip_protocol":{"constant_value":"-1"},"security_group_id":{"references":["aws_security_group.blog-sg.id","aws_security_group.blog-sg"]}},"schema_version":0,"depends_on":["aws_security_group.blog-sg"]},{"address":"aws_vpc_security_group_egress_rule.blog_dev_allow_all_traffic_ipv4","mode":"managed","type":"aws_vpc_security_group_egress_rule","name":"blog_dev_allow_all_traffic_ipv4","provider_config_key":"aws","expressions":{"cidr_ipv4":{"constant_value":"0.0.0.0/0"},"ip_protocol":{"constant_value":"-1"},"security_group_id":{"references":["aws_security_group.blog-dev-sg.id","aws_security_group.blog-dev-sg"]}},"schema_version":0,"depends_on":["aws_security_group.blog-dev-sg"]},{"address":"aws_vpc_security_group_egress_rule.ecommerce_allow_all_traffic_ipv4","mode":"managed","type":"aws_vpc_security_group_egress_rule","name":"ecommerce_allow_all_traffic_ipv4","provider_config_key":"aws","expressions":{"cidr_ipv4":{"constant_value":"0.0.0.0/0"},"ip_protocol":{"constant_value":"-1"},"security_group_id":{"references":["aws_security_group.ecommerce-sg.id","aws_security_group.ecommerce-sg"]}},"schema_version":0,"depends_on":["aws_security_group.ecommerce-sg"]},{"address":"aws_vpc_security_group_egress_rule.ecommerce_dev_allow_all_traffic_ipv4","mode":"managed","type":"aws_vpc_security_group_egress_rule","name":"ecommerce_dev_allow_all_traffic_ipv4","provider_config_key":"aws","expressions":{"cidr_ipv4":{"constant_value":"0.0.0.0/0"},"ip_protocol":{"constant_value":"-1"},"security_group_id":{"references":["aws_security_group.ecommerce-dev-sg.id","aws_security_group.ecommerce-dev-sg"]}},"schema_version":0,"depends_on":["aws_security_group.ecommerce-dev-sg"]},{"address":"aws_vpc_security_group_ingress_rule.blog_allow_http","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"blog_allow_http","provider_config_key":"aws","expressions":{"cidr_ipv4":{"constant_value":"0.0.0.0/0"},"from_port":{"constant_value":80},"ip_protocol":{"constant_value":"tcp"},"security_group_id":{"references":["aws_security_group.blog-sg.id","aws_security_group.blog-sg"]},"to_port":{"constant_value":80}},"schema_version":0,"depends_on":["aws_security_group.blog-sg"]},{"address":"aws_vpc_security_group_ingress_rule.blog_allow_https","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"blog_allow_https","provider_config_key":"aws","expressions":{"cidr_ipv4":{"constant_value":"0.0.0.0/0"},"from_port":{"constant_value":443},"ip_protocol":{"constant_value":"tcp"},"security_group_id":{"references":["aws_security_group.blog-sg.id","aws_security_group.blog-sg"]},"to_port":{"constant_value":443}},"schema_version":0,"depends_on":["aws_security_group.blog-sg"]},{"address":"aws_vpc_security_group_ingress_rule.blog_allow_ssh","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"blog_allow_ssh","provider_config_key":"aws","expressions":{"cidr_ipv4":{"constant_value":"0.0.0.0/0"},"from_port":{"constant_value":22},"ip_protocol":{"constant_value":"tcp"},"security_group_id":{"references":["aws_security_group.blog-sg.id","aws_security_group.blog-sg"]},"to_port":{"constant_value":22}},"schema_version":0,"depends_on":["aws_security_group.blog-sg"]},{"address":"aws_vpc_security_group_ingress_rule.blog_dev_allow_http","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"blog_dev_allow_http","provider_config_key":"aws","expressions":{"cidr_ipv4":{"constant_value":"0.0.0.0/0"},"from_port":{"constant_value":80},"ip_protocol":{"constant_value":"tcp"},"security_group_id":{"references":["aws_security_group.blog-dev-sg.id","aws_security_group.blog-dev-sg"]},"to_port":{"constant_value":80}},"schema_version":0,"depends_on":["aws_security_group.blog-dev-sg"]},{"address":"aws_vpc_security_group_ingress_rule.blog_dev_allow_https","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"blog_dev_allow_https","provider_config_key":"aws","expressions":{"cidr_ipv4":{"constant_value":"0.0.0.0/0"},"from_port":{"constant_value":443},"ip_protocol":{"constant_value":"tcp"},"security_group_id":{"references":["aws_security_group.blog-dev-sg.id","aws_security_group.blog-dev-sg"]},"to_port":{"constant_value":443}},"schema_version":0,"depends_on":["aws_security_group.blog-dev-sg"]},{"address":"aws_vpc_security_group_ingress_rule.blog_dev_allow_ssh","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"blog_dev_allow_ssh","provider_config_key":"aws","expressions":{"cidr_ipv4":{"constant_value":"0.0.0.0/0"},"from_port":{"constant_value":22},"ip_protocol":{"constant_value":"tcp"},"security_group_id":{"references":["aws_security_group.blog-dev-sg.id","aws_security_group.blog-dev-sg"]},"to_port":{"constant_value":22}},"schema_version":0,"depends_on":["aws_security_group.blog-dev-sg"]},{"address":"aws_vpc_security_group_ingress_rule.ecommerce_allow_http","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"ecommerce_allow_http","provider_config_key":"aws","expressions":{"cidr_ipv4":{"constant_value":"0.0.0.0/0"},"from_port":{"constant_value":80},"ip_protocol":{"constant_value":"tcp"},"security_group_id":{"references":["aws_security_group.ecommerce-sg.id","aws_security_group.ecommerce-sg"]},"to_port":{"constant_value":80}},"schema_version":0,"depends_on":["aws_security_group.ecommerce-sg"]},{"address":"aws_vpc_security_group_ingress_rule.ecommerce_allow_https","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"ecommerce_allow_https","provider_config_key":"aws","expressions":{"cidr_ipv4":{"constant_value":"0.0.0.0/0"},"from_port":{"constant_value":443},"ip_protocol":{"constant_value":"tcp"},"security_group_id":{"references":["aws_security_group.ecommerce-sg.id","aws_security_group.ecommerce-sg"]},"to_port":{"constant_value":443}},"schema_version":0,"depends_on":["aws_security_group.ecommerce-sg"]},{"address":"aws_vpc_security_group_ingress_rule.ecommerce_allow_ssh","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"ecommerce_allow_ssh","provider_config_key":"aws","expressions":{"cidr_ipv4":{"constant_value":"0.0.0.0/0"},"from_port":{"constant_value":22},"ip_protocol":{"constant_value":"tcp"},"security_group_id":{"references":["aws_security_group.ecommerce-sg.id","aws_security_group.ecommerce-sg"]},"to_port":{"constant_value":22}},"schema_version":0,"depends_on":["aws_security_group.ecommerce-sg"]},{"address":"aws_vpc_security_group_ingress_rule.ecommerce_dev_allow_http","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"ecommerce_dev_allow_http","provider_config_key":"aws","expressions":{"cidr_ipv4":{"constant_value":"0.0.0.0/0"},"from_port":{"constant_value":80},"ip_protocol":{"constant_value":"tcp"},"security_group_id":{"references":["aws_security_group.ecommerce-dev-sg.id","aws_security_group.ecommerce-dev-sg"]},"to_port":{"constant_value":80}},"schema_version":0,"depends_on":["aws_security_group.ecommerce-dev-sg"]},{"address":"aws_vpc_security_group_ingress_rule.ecommerce_dev_allow_https","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"ecommerce_dev_allow_https","provider_config_key":"aws","expressions":{"cidr_ipv4":{"constant_value":"0.0.0.0/0"},"from_port":{"constant_value":443},"ip_protocol":{"constant_value":"tcp"},"security_group_id":{"references":["aws_security_group.ecommerce-dev-sg.id","aws_security_group.ecommerce-dev-sg"]},"to_port":{"constant_value":443}},"schema_version":0,"depends_on":["aws_security_group.ecommerce-dev-sg"]},{"address":"aws_vpc_security_group_ingress_rule.ecommerce_dev_allow_ssh","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"ecommerce_dev_allow_ssh","provider_config_key":"aws","expressions":{"cidr_ipv4":{"constant_value":"0.0.0.0/0"},"from_port":{"constant_value":22},"ip_protocol":{"constant_value":"tcp"},"security_group_id":{"references":["aws_security_group.ecommerce-dev-sg.id","aws_security_group.ecommerce-dev-sg"]},"to_port":{"constant_value":22}},"schema_version":0,"depends_on":["aws_security_group.ecommerce-dev-sg"]}]}},"s3":{"source":"./modules/s3","module":{"resources":[{"address":"aws_s3_bucket.ecommerce_s3","mode":"managed","type":"aws_s3_bucket","name":"ecommerce_s3","provider_config_key":"aws","expressions":{"bucket":{"constant_value":"ecommerce-s3-367743689984"},"tags":{"constant_value":{"Environment":"prd","Name":"ecommerce_s3","Project":"ecommerce","Team":"devops"}}},"schema_version":0},{"address":"aws_s3_bucket_lifecycle_configuration.bucket-config","mode":"managed","type":"aws_s3_bucket_lifecycle_configuration","name":"bucket-config","provider_config_key":"aws","expressions":{"bucket":{"references":["aws_s3_bucket.ecommerce_s3.id","aws_s3_bucket.ecommerce_s3"]},"rule":[{"expiration":[{"days":{"constant_value":90}}],"filter":[{"and":[{"prefix":{"constant_value":"log/"},"tags":{"constant_value":{"autoclean":"true","rule":"log"}}}]}],"id":{"constant_value":"log"},"status":{"constant_value":"Enabled"},"transition":[{"days":{"constant_value":30},"storage_class":{"constant_value":"STANDARD_IA"}},{"days":{"constant_value":60},"storage_class":{"constant_value":"ONEZONE_IA"}}]}]},"schema_version":0}]}}},"variables":{"alert_mail_recvr":{"description":"Receiver email address for finops notifications"},"db_password":{"description":"Ecommerce DB password","sensitive":true},"db_username":{"description":"Ecommerce DB username","sensitive":true},"region":{"default":"eu-central-1","description":"Default region"}}}},"relevant_attributes":[{"resource":"module.finops.aws_lambda_function.underutilized_lambda","attribute":["arn"]},{"resource":"module.finops.aws_iam_role.underutilized_every_1_hour_role","attribute":["arn"]},{"resource":"module.networking.aws_subnet.blog_dev_subnet","attribute":["id"]},{"resource":"module.networking.aws_subnet.ecommerce_dev_subnet","attribute":["id"]},{"resource":"module.networking.aws_vpc.ecommerce_dev_vpc","attribute":["id"]},{"resource":"module.finops.aws_sns_topic.underutilized_sns_topic","attribute":["arn"]},{"resource":"module.s3.aws_s3_bucket.ecommerce_s3","attribute":["id"]},{"resource":"module.networking.aws_security_group.ecommerce-dev-sg","attribute":["id"]},{"resource":"module.networking.aws_subnet.ecommerce_prd_subnet1","attribute":["id"]},{"resource":"module.networking.aws_subnet.ecommerce_prd_subnet2","attribute":["id"]},{"resource":"module.networking.aws_vpc.blog_prd_vpc","attribute":["id"]},{"resource":"module.networking.aws_vpc.blog_dev_vpc","attribute":["id"]},{"resource":"module.networking.aws_vpc.ecommerce_prd_vpc","attribute":["id"]},{"resource":"module.networking.aws_security_group.blog-sg","attribute":["id"]},{"resource":"module.networking.aws_security_group.blog-dev-sg","attribute":["id"]},{"resource":"module.finops.data.aws_iam_policy_document.underutilized_every_1_hour_role_policy","attribute":["json"]},{"resource":"module.ecommerce.aws_lb.ecommerce-alb","attribute":["id"]},{"resource":"module.ecommerce.aws_lb_target_group.ecommerce-tg","attribute":["arn"]},{"resource":"module.ecommerce.aws_launch_template.ecommerce_launch_template","attribute":["id"]},{"resource":"module.ecommerce.aws_autoscaling_group.ecommerce_autoscaling_group","attribute":["name"]},{"resource":"module.networking.aws_subnet.blog_prd_subnet","attribute":["id"]},{"resource":"module.finops.data.aws_iam_policy_document.underutilized_lambda_assume_role","attribute":["json"]},{"resource":"module.networking.aws_security_group.ecommerce-sg","attribute":["id"]},{"resource":"module.finops.data.archive_file.underutilized_function_file","attribute":["output_base64sha256"]},{"resource":"module.finops.aws_iam_role.underutilized_lambda_iam_role","attribute":["arn"]}]}
